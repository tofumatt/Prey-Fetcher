!RBIX
0
x
M
1
n
n
x
10
__script__
i
49
5
7
0
64
47
49
1
1
15
5
7
2
64
47
49
1
1
15
45
3
4
7
5
65
49
6
2
13
45
3
7
12
7
8
12
7
9
12
65
12
49
10
4
15
48
8
15
2
11
I
6
I
0
I
0
I
0
n
p
11
s
7
strscan
x
7
require
s
11
haml/shared
x
8
Rubinius
n
x
4
Haml
x
11
open_module
n
x
15
__module_init__
M
1
n
n
x
4
Haml
i
31
5
66
45
0
1
7
2
65
49
3
2
13
45
0
4
12
7
5
12
7
6
12
65
12
49
7
4
15
48
5
11
I
6
I
0
I
0
I
0
n
p
8
x
8
Rubinius
n
x
11
Precompiler
x
11
open_module
n
x
15
__module_init__
M
1
n
n
x
11
Precompiler
i
1224
5
66
5
45
0
1
43
2
47
49
3
1
15
65
7
4
4
37
49
5
2
15
65
7
6
4
46
49
5
2
15
65
7
7
4
35
49
5
2
15
65
7
8
4
47
49
5
2
15
65
7
9
4
33
49
5
2
15
65
7
10
4
61
49
5
2
15
65
7
11
4
38
49
5
2
15
65
7
12
4
126
49
5
2
15
65
7
13
4
45
49
5
2
15
65
7
14
4
35
49
5
2
15
65
7
15
4
92
49
5
2
15
65
7
16
4
58
49
5
2
15
65
7
17
77
49
5
2
15
65
7
18
45
4
19
45
6
20
45
7
21
45
8
22
45
9
23
45
10
24
45
11
25
45
12
26
45
13
27
45
15
28
45
16
29
35
11
49
5
2
15
65
7
30
4
124
49
5
2
15
65
7
31
45
32
33
7
34
7
35
64
7
36
64
7
37
64
7
38
64
7
39
64
7
40
64
35
6
7
41
64
49
42
1
47
48
43
7
44
63
3
78
49
45
2
49
5
2
15
65
7
46
7
47
13
70
9
250
15
45
32
48
7
49
79
49
45
2
6
47
49
5
2
15
65
7
50
7
51
13
70
9
275
15
45
32
52
7
53
78
49
45
2
6
51
49
5
2
15
5
47
48
54
15
45
55
56
7
57
7
58
65
67
48
59
49
60
4
15
45
55
61
7
62
7
63
65
67
48
59
49
60
4
15
45
55
64
7
65
7
66
65
67
48
59
49
60
4
15
45
55
67
7
68
45
69
70
13
71
45
47
9
366
47
48
71
13
7
72
7
73
7
74
7
75
7
76
7
77
47
49
78
6
15
8
381
7
72
7
73
7
74
7
75
7
76
7
77
49
45
6
65
49
79
3
13
45
55
80
12
7
81
12
7
82
12
65
12
49
83
4
15
48
81
15
45
55
84
7
85
7
86
65
67
48
59
49
60
4
15
45
55
87
7
88
7
89
65
67
48
59
49
60
4
15
45
55
90
7
91
7
92
65
67
48
59
49
60
4
15
45
55
93
7
94
7
95
65
67
48
59
49
60
4
15
45
55
96
7
97
7
98
65
67
48
59
49
60
4
15
45
55
99
7
100
7
101
65
67
48
59
49
60
4
15
45
55
102
7
103
7
104
65
67
48
59
49
60
4
15
45
55
105
7
106
7
107
65
67
48
59
49
60
4
15
45
55
108
7
109
7
110
65
67
48
59
49
60
4
15
45
55
111
7
112
7
113
65
67
48
59
49
60
4
15
45
55
114
7
115
7
116
65
67
48
59
49
60
4
15
45
55
117
7
118
7
119
65
67
48
59
49
60
4
15
45
55
120
7
121
7
122
65
67
48
59
49
60
4
15
45
55
123
7
124
7
125
65
67
48
59
49
60
4
15
45
55
126
7
127
7
128
65
67
48
59
49
60
4
15
45
55
129
7
130
7
131
65
67
48
59
49
60
4
15
45
55
132
7
133
7
134
65
67
48
59
49
60
4
15
45
55
135
7
136
7
137
65
67
48
59
49
60
4
15
45
55
138
7
139
7
140
65
67
48
59
49
60
4
15
45
55
141
7
142
7
143
65
67
48
59
49
60
4
15
45
55
144
7
145
7
146
65
67
48
59
49
60
4
15
45
55
147
7
148
7
149
65
67
48
59
49
60
4
15
45
55
150
7
151
7
152
65
5
49
83
4
15
45
55
153
7
154
7
155
65
67
48
59
49
60
4
15
45
55
156
7
157
7
158
65
5
49
83
4
15
45
55
159
7
160
7
161
65
5
49
83
4
15
45
55
162
7
163
7
164
65
67
48
59
49
60
4
15
45
55
165
7
166
7
167
65
67
48
59
49
60
4
15
45
55
168
7
169
7
170
65
67
48
59
49
60
4
15
45
55
171
7
172
7
173
65
67
48
59
49
60
4
15
45
55
174
7
175
7
176
65
67
48
59
49
60
4
15
45
55
177
7
178
7
179
65
67
48
59
49
60
4
15
45
55
180
7
181
7
182
65
67
48
59
49
60
4
15
45
55
183
7
184
7
185
65
67
48
59
49
60
4
15
45
55
186
7
187
7
188
65
67
48
59
49
60
4
15
45
55
189
7
190
7
191
65
67
48
59
49
60
4
15
45
55
192
7
193
7
194
65
67
48
59
49
60
4
15
45
55
195
7
196
7
197
65
67
48
59
49
60
4
15
45
55
198
7
199
7
200
65
67
48
59
49
60
4
15
45
55
201
7
202
7
203
65
67
48
59
49
60
4
15
45
55
204
7
205
7
206
65
67
48
59
49
60
4
15
45
55
207
7
208
7
209
65
67
48
59
49
60
4
15
45
55
210
7
211
7
212
65
67
48
59
49
60
4
15
45
55
213
7
214
7
215
65
67
48
59
49
60
4
15
45
55
216
7
217
7
218
65
67
48
59
49
60
4
15
45
55
219
7
220
7
221
65
67
48
59
49
60
4
15
45
55
222
7
223
7
224
65
67
48
59
49
60
4
15
45
55
225
7
226
7
227
65
67
48
59
49
60
4
15
45
55
228
7
229
7
230
65
67
48
59
49
60
4
15
45
55
231
7
232
7
233
65
67
48
59
49
60
4
15
45
55
234
7
235
7
236
65
67
48
59
49
60
4
15
45
55
237
7
238
7
239
65
67
48
59
49
60
4
15
45
55
240
7
241
7
242
65
67
48
59
49
60
4
15
45
55
243
7
244
7
245
65
67
48
59
49
60
4
15
45
55
246
7
247
7
248
65
67
48
59
49
60
4
11
I
d
I
0
I
0
I
0
n
p
249
x
4
Haml
n
x
4
Util
x
7
include
x
7
ELEMENT
x
9
const_set
x
9
DIV_CLASS
x
6
DIV_ID
x
7
COMMENT
x
7
DOCTYPE
x
6
SCRIPT
x
8
SANITIZE
x
11
FLAT_SCRIPT
x
13
SILENT_SCRIPT
x
14
SILENT_COMMENT
x
6
ESCAPE
x
6
FILTER
x
10
PLAIN_TEXT
x
18
SPECIAL_CHARACTERS
n
n
n
n
n
n
n
n
n
n
n
x
20
MULTILINE_CHAR_VALUE
x
23
MID_BLOCK_KEYWORD_REGEX
x
6
Regexp
n
s
6
^-\s*(
s
4
else
s
5
elsif
s
6
rescue
s
6
ensure
s
4
when
s
3
end
s
1
|
x
4
join
x
4
to_s
s
3
)\b
x
3
new
x
13
DOCTYPE_REGEX
n
n
s
27
(\d(?:\.\d)?)?[\s]*([a-z]*)
x
19
LITERAL_VALUE_REGEX
n
n
s
35
:(\w*)|(["'])((?![\\#]|\2).|\\.)*\2
x
7
private
x
8
Rubinius
n
x
23
precompiled_with_ambles
M
1
n
n
x
23
precompiled_with_ambles
i
72
7
0
5
47
48
1
48
2
47
48
3
7
4
63
3
7
5
64
7
6
64
49
7
2
19
1
15
5
47
48
8
47
48
3
7
9
63
2
7
5
64
7
6
64
49
7
2
19
2
15
20
1
5
20
0
47
49
10
1
81
11
5
47
48
12
81
11
20
2
81
11
11
I
6
I
3
I
1
I
1
n
p
13
s
84
begin
extend Haml::Helpers
_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, 
x
18
options_for_buffer
x
7
inspect
x
4
to_s
s
53
)
_erbout = _hamlout.buffer
__in_erb_template = true

s
1


s
1
;
x
4
gsub
x
31
precompiled_method_return_value
s
46

ensure
@haml_buffer = @haml_buffer.upper
end

x
11
locals_code
x
1
+
x
11
precompiled
p
17
I
0
I
5d
I
0
I
5e
I
0
I
61
I
f
I
5e
I
15
I
61
I
1b
I
66
I
26
I
65
I
32
I
6b
I
48
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
11
local_names
x
8
preamble
x
9
postamble
x
17
method_visibility
x
15
add_defn_method
n
x
31
precompiled_method_return_value
M
1
n
n
x
31
precompiled_method_return_value
i
4
7
0
64
11
I
1
I
0
I
0
I
0
n
p
1
s
7
_erbout
p
5
I
0
I
70
I
0
I
71
I
4
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
n
x
11
locals_code
M
1
n
n
x
11
locals_code
i
38
45
0
1
20
0
83
2
9
17
20
0
48
3
19
0
8
18
1
15
20
0
56
4
50
5
0
7
6
64
49
7
1
7
6
64
81
8
11
I
3
I
1
I
1
I
1
n
p
9
x
4
Hash
n
x
2
==
x
4
keys
M
1
p
2
x
9
for_block
t
n
x
11
locals_code
i
69
57
19
0
15
7
0
20
0
48
1
48
2
47
48
3
7
4
63
3
19
1
15
7
0
20
0
48
3
48
2
47
48
3
7
4
63
3
19
2
15
20
0
47
48
3
7
5
20
1
47
48
3
7
6
20
2
47
48
3
7
7
20
1
47
48
3
63
7
11
I
b
I
3
I
1
I
1
n
p
8
s
13
_haml_locals[
x
6
to_sym
x
7
inspect
x
4
to_s
s
1
]
s
3
 = 
s
8
.nil? ? 
s
3
 : 
p
9
I
0
I
77
I
4
I
79
I
16
I
7a
I
28
I
7b
I
45
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
4
name
x
9
sym_local
x
9
str_local
x
3
map
s
1
;
x
4
join
x
1
+
p
13
I
0
I
74
I
0
I
75
I
13
I
77
I
1a
I
7c
I
1d
I
77
I
20
I
7c
I
26
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
5
names
n
x
4
Line
x
6
Struct
n
x
8
allocate
x
4
text
x
10
unstripped
x
4
full
x
5
index
x
11
precompiler
x
3
eod
x
10
initialize
x
10
open_class
n
x
14
__class_init__
M
1
n
n
x
4
Line
i
27
5
66
5
7
0
7
1
47
49
2
2
15
45
3
4
7
5
7
6
65
67
48
7
49
8
4
11
I
5
I
0
I
0
I
0
n
p
9
x
4
eod?
x
3
eod
x
12
alias_method
x
8
Rubinius
n
x
4
tabs
M
1
n
n
x
4
tabs
i
22
5
19
0
15
39
0
13
10
21
15
5
47
48
1
56
2
50
3
0
38
0
11
I
3
I
1
I
0
I
0
n
p
4
x
5
@tabs
x
11
precompiler
M
1
p
2
x
9
for_block
t
n
x
4
tabs
i
365
21
1
0
48
0
48
1
13
10
45
15
21
1
0
48
2
7
3
13
70
9
34
15
45
4
5
7
6
78
49
7
2
6
3
49
8
1
19
0
10
44
2
8
45
3
9
51
78
33
8
52
1
15
39
9
48
10
9
155
20
0
38
9
15
39
9
4
32
49
11
1
13
9
82
15
39
9
4
9
49
11
1
9
130
5
45
12
13
13
71
7
47
9
113
47
48
14
13
7
15
64
21
1
0
48
16
47
49
17
2
15
8
124
7
15
64
21
1
0
48
16
49
7
2
47
49
18
1
8
131
1
15
5
47
48
19
9
149
39
9
39
20
49
21
1
38
22
8
150
1
15
79
33
8
156
1
15
20
0
48
23
39
9
48
23
49
24
1
19
1
15
20
0
39
9
20
1
49
21
1
83
25
9
189
20
1
33
8
190
1
15
5
47
48
19
13
9
225
15
20
0
45
4
26
7
27
39
9
39
20
49
21
1
47
48
28
63
2
78
49
7
2
49
29
1
9
232
39
20
33
8
233
1
15
5
45
12
30
13
71
7
47
9
306
47
48
14
13
7
31
45
32
33
43
34
20
0
2
49
35
2
47
48
28
7
36
45
32
37
43
34
39
9
49
35
1
47
48
28
7
38
63
5
48
39
7
40
64
7
41
64
49
42
2
21
1
0
48
16
47
49
17
2
15
8
360
7
31
45
32
43
43
34
20
0
2
49
35
2
47
48
28
7
36
45
32
44
43
34
39
9
49
35
1
47
48
28
7
38
63
5
48
39
7
40
64
7
41
64
49
42
2
21
1
0
48
16
49
7
2
47
49
18
1
11
I
b
I
2
I
0
I
0
I
-2
p
45
x
4
text
x
6
empty?
x
4
full
n
x
6
Regexp
n
s
4
^\s+
x
3
new
x
2
[]
x
12
@indentation
x
4
nil?
x
8
include?
x
11
SyntaxError
n
x
8
allocate
s
43
Indentation can't use both tabs and spaces.
x
5
index
x
10
initialize
x
5
raise
x
5
flat?
x
14
@template_tabs
x
1
*
x
12
@flat_spaces
x
6
length
x
1
/
x
2
==
n
s
1
^
x
4
to_s
x
2
=~
n
s
26
Inconsistent indentation: 
x
4
Haml
n
x
6
Shared
x
17
human_indentation
s
71
 used for indentation,
but the rest of the document was indented using 
n
s
2
.

x
5
strip
s
1


s
1
 
x
4
gsub
n
n
p
49
I
0
I
86
I
0
I
87
I
35
I
89
I
3b
I
8a
I
40
I
8c
I
54
I
8d
I
82
I
8c
I
84
I
90
I
97
I
91
I
9b
I
89
I
9d
I
94
I
ab
I
95
I
bf
I
96
I
ea
I
98
I
f8
I
99
I
10a
I
9a
I
11d
I
98
I
123
I
99
I
126
I
98
I
132
I
99
I
144
I
9a
I
157
I
98
I
15d
I
99
I
160
I
98
I
16d
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
10
whitespace
x
4
tabs
x
13
instance_eval
p
9
I
0
I
84
I
0
I
85
I
4
I
9c
I
a
I
86
I
16
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
line
x
17
method_visibility
x
15
add_defn_method
p
5
I
2
I
81
I
c
I
84
I
1b
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
x
13
attach_method
n
x
10
precompile
M
1
n
n
x
10
precompile
i
331
3
38
0
38
1
38
2
15
1
38
3
15
5
47
48
4
38
5
15
5
47
48
6
15
5
47
48
7
15
39
5
48
8
78
83
9
9
41
1
8
83
5
45
10
11
13
71
12
47
9
69
47
48
13
13
7
14
64
39
5
48
15
47
49
16
2
15
8
79
7
14
64
39
5
48
15
49
12
2
47
49
17
1
15
5
47
48
4
9
308
39
5
48
18
48
19
9
101
1
8
108
5
39
5
47
49
20
1
15
5
47
48
21
9
132
5
39
5
47
49
22
1
15
39
23
38
5
15
8
84
8
133
1
15
39
5
48
18
48
19
13
10
146
15
39
2
9
151
1
8
164
5
39
5
48
18
39
5
48
15
47
49
24
2
15
5
47
48
21
10
174
2
8
175
3
13
9
192
15
39
23
48
8
39
5
48
8
82
25
79
85
26
9
270
5
45
10
27
13
71
12
47
9
238
47
48
13
13
7
28
39
23
48
8
39
5
48
8
82
25
47
48
29
7
30
63
3
39
23
48
15
47
49
16
2
15
8
264
7
28
39
23
48
8
39
5
48
8
82
25
47
48
29
7
30
63
3
39
23
48
15
49
12
2
47
49
17
1
8
271
1
15
39
23
48
31
9
281
1
8
285
5
47
48
6
15
39
23
38
5
15
39
23
48
31
9
300
1
8
304
5
47
48
7
15
68
8
84
1
15
39
32
48
19
10
324
5
47
48
33
15
68
8
310
1
15
5
47
48
34
11
I
6
I
0
I
0
I
0
n
p
35
x
22
@dont_tab_up_next_text
x
22
@dont_indent_next_line
x
13
@haml_comment
x
12
@indentation
x
9
next_line
x
5
@line
x
16
resolve_newlines
x
7
newline
x
4
tabs
x
2
==
x
11
SyntaxError
n
x
3
new
x
8
allocate
s
54
Indenting at the beginning of the document is illegal.
x
5
index
x
10
initialize
x
5
raise
x
4
text
x
6
empty?
x
14
process_indent
x
5
flat?
x
9
push_flat
x
10
@next_line
x
12
process_line
x
1
-
x
1
>
n
s
22
The line was indented 
x
4
to_s
s
38
 levels deeper than the previous line.
x
4
eod?
x
15
@to_close_stack
x
5
close
x
17
flush_merged_text
p
47
I
0
I
a0
I
0
I
a1
I
8
I
a2
I
c
I
a3
I
13
I
a4
I
18
I
a5
I
1d
I
a7
I
54
I
a9
I
5a
I
aa
I
6d
I
ac
I
73
I
ad
I
7b
I
ae
I
80
I
af
I
84
I
ac
I
86
I
b2
I
a5
I
b4
I
c2
I
b5
I
10e
I
b4
I
110
I
b8
I
11e
I
b9
I
123
I
ba
I
136
I
be
I
146
I
bf
I
14b
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
n
x
14
process_indent
M
1
n
n
x
14
process_indent
i
45
20
0
48
0
39
1
49
2
1
13
9
18
15
39
1
78
85
3
9
23
1
8
25
1
11
15
39
1
20
0
48
0
82
4
19
1
15
20
1
56
5
50
6
0
11
I
4
I
2
I
1
I
1
n
p
7
x
4
tabs
x
14
@template_tabs
x
2
<=
x
1
>
x
1
-
M
1
p
2
x
9
for_block
t
n
x
14
process_indent
i
41
57
19
0
15
21
1
1
79
82
0
20
0
82
0
78
83
1
13
9
31
15
5
21
1
0
48
2
47
49
3
1
9
36
1
8
40
5
47
48
4
11
I
4
I
1
I
1
I
1
n
p
5
x
1
-
x
2
==
x
4
text
x
18
mid_block_keyword?
x
5
close
p
3
I
0
I
c7
I
29
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
1
i
x
5
times
p
9
I
0
I
c3
I
0
I
c4
I
1a
I
c6
I
25
I
c7
I
2d
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
line
x
8
to_close
n
x
12
process_line
M
1
n
n
x
12
process_line
i
1219
20
1
79
81
0
38
1
15
20
0
78
49
2
1
13
45
3
4
12
49
5
1
9
34
15
5
20
0
47
49
6
1
8
1218
13
45
7
8
12
49
5
1
9
78
15
20
0
79
49
2
1
4
123
83
9
9
67
5
20
0
47
49
10
1
11
8
68
1
15
5
20
0
47
49
6
1
8
1218
13
45
11
12
12
49
5
1
9
98
15
5
20
0
47
49
13
1
8
1218
13
45
14
15
12
49
5
1
9
131
15
5
20
0
44
43
16
79
77
49
17
2
49
2
1
48
18
47
49
19
1
8
1218
13
45
20
21
12
49
5
1
9
370
15
20
0
44
43
16
79
80
49
17
2
49
2
1
7
22
64
83
9
9
201
5
20
0
44
43
16
4
3
77
49
17
2
49
2
1
48
18
44
43
23
79
49
24
1
13
7
25
2
49
26
2
15
47
49
10
2
11
8
202
1
15
20
0
79
49
2
1
45
27
28
83
9
9
254
5
20
0
44
43
16
80
77
49
17
2
49
2
1
48
18
44
43
23
79
49
24
1
13
7
25
2
49
26
2
15
47
49
29
2
11
8
255
1
15
20
0
79
49
2
1
45
30
31
83
9
9
307
5
20
0
44
43
16
80
77
49
17
2
49
2
1
48
18
44
43
23
79
49
24
1
13
7
25
2
49
26
2
15
47
49
32
2
11
8
308
1
15
20
0
79
49
2
1
4
32
83
9
9
359
5
20
0
44
43
16
79
77
49
17
2
49
2
1
48
18
44
43
23
79
49
24
1
13
7
25
2
49
26
2
15
47
49
10
2
11
8
360
1
15
5
20
0
47
49
10
1
8
1218
13
45
27
33
12
49
5
1
9
439
15
20
0
79
49
2
1
45
27
34
83
9
9
417
5
20
0
44
43
16
80
77
49
17
2
49
2
1
48
18
47
49
10
1
11
8
418
1
15
5
20
0
44
43
16
79
77
49
17
2
49
2
1
47
49
29
1
8
1218
13
45
30
35
12
49
5
1
9
470
15
5
20
0
44
43
16
79
77
49
17
2
49
2
1
47
49
32
1
8
1218
13
45
36
37
12
49
5
1
9
873
15
20
0
79
49
2
1
45
38
39
83
9
9
501
5
47
48
40
11
8
502
1
15
20
0
44
43
16
79
77
49
17
2
49
2
1
48
18
7
41
64
83
9
9
569
5
45
42
43
13
71
17
47
9
553
47
48
44
13
7
45
64
48
46
20
1
47
49
47
2
15
8
563
7
45
64
48
46
20
1
49
17
2
47
49
48
1
8
570
1
15
5
20
0
47
49
49
1
19
0
15
5
20
0
44
43
16
79
77
49
17
2
49
2
1
2
47
49
50
2
15
5
47
48
51
15
20
0
7
52
13
70
9
626
15
45
53
54
7
55
78
49
17
2
6
52
49
56
1
13
9
643
15
5
47
48
57
10
642
2
8
643
3
9
655
39
58
48
59
3
49
60
1
8
656
1
15
20
0
7
61
13
70
9
677
15
45
53
62
7
63
78
49
17
2
6
61
49
56
1
19
2
15
5
20
0
47
49
64
1
19
3
15
5
47
48
57
13
9
709
15
20
3
10
708
2
8
709
3
19
4
15
7
65
64
7
66
64
7
67
64
35
3
20
3
49
68
1
9
820
39
58
48
59
13
9
748
15
39
58
48
59
48
69
7
70
83
9
9
778
39
58
48
59
44
43
16
79
80
49
17
2
49
2
1
97
37
38
71
15
37
38
72
15
15
2
8
791
5
7
70
39
71
39
72
35
3
47
49
73
1
15
20
3
7
67
64
83
9
9
817
5
7
70
39
71
39
72
3
35
4
47
49
73
1
8
818
1
8
871
20
4
13
10
828
15
20
2
9
845
5
7
70
39
71
39
72
35
3
47
49
73
1
8
871
20
4
13
9
853
15
20
2
9
870
5
7
70
39
71
39
72
35
3
47
49
73
1
8
871
1
8
1218
13
45
74
75
12
49
5
1
9
906
15
5
20
0
44
43
16
79
77
49
17
2
49
2
1
48
76
47
49
77
1
8
1218
13
45
78
79
12
49
5
1
9
1179
15
20
0
44
43
16
78
4
3
2
49
17
3
49
2
1
7
80
64
83
9
9
949
5
20
0
47
49
81
1
11
8
950
1
15
20
0
44
43
16
79
80
49
17
2
49
2
1
7
22
64
83
9
9
1010
5
20
0
44
43
16
4
3
77
49
17
2
49
2
1
48
18
44
43
23
79
49
24
1
13
7
25
3
49
26
2
15
47
49
10
2
11
8
1011
1
15
20
0
79
49
2
1
45
27
82
83
9
9
1063
5
20
0
44
43
16
80
77
49
17
2
49
2
1
48
18
44
43
23
79
49
24
1
13
7
25
3
49
26
2
15
47
49
29
2
11
8
1064
1
15
20
0
79
49
2
1
45
30
83
83
9
9
1116
5
20
0
44
43
16
80
77
49
17
2
49
2
1
48
18
44
43
23
79
49
24
1
13
7
25
3
49
26
2
15
47
49
32
2
11
8
1117
1
15
20
0
79
49
2
1
4
32
83
9
9
1168
5
20
0
44
43
16
79
77
49
17
2
49
2
1
48
18
44
43
23
79
49
24
1
13
7
25
3
49
26
2
15
47
49
10
2
11
8
1169
1
15
5
20
0
47
49
10
1
8
1218
13
45
84
85
12
49
5
1
9
1210
15
5
20
0
44
43
16
79
77
49
17
2
49
2
1
47
49
10
1
8
1218
15
5
20
0
47
49
10
1
11
I
b
I
5
I
2
I
2
n
p
86
x
1
+
x
6
@index
x
2
[]
x
9
DIV_CLASS
n
x
3
===
x
10
render_div
x
6
DIV_ID
n
x
2
==
x
10
push_plain
x
7
ELEMENT
n
x
10
render_tag
x
7
COMMENT
n
x
5
Range
x
3
new
x
5
strip
x
14
render_comment
x
8
SANITIZE
n
s
2
==
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
SCRIPT
n
x
11
push_script
x
11
FLAT_SCRIPT
n
x
16
push_flat_script
n
n
n
x
13
SILENT_SCRIPT
n
x
14
SILENT_COMMENT
n
x
18
start_haml_comment
s
3
end
x
11
SyntaxError
n
x
8
allocate
s
174
You don't need to use "- end" in Haml. Un-indent to close a block:
- if foo?
  %strong Foo!
- else
  Not foo.
%p This line is un-indented, so it isn't part of the "if" block

x
6
rstrip
x
10
initialize
x
5
raise
x
21
handle_ruby_multiline
x
11
push_silent
x
11
newline_now
n
x
6
Regexp
n
s
10
^-\s*end\b
x
2
=~
x
13
block_opened?
x
15
@to_close_stack
x
4
last
x
2
<<
n
n
s
11
^-\s*case\b
x
18
mid_block_keyword?
s
4
else
s
5
elsif
s
4
when
x
8
include?
x
5
first
x
6
script
x
22
@dont_indent_next_line
x
22
@dont_tab_up_next_text
x
17
push_and_tabulate
x
6
FILTER
n
x
8
downcase
x
14
start_filtered
x
7
DOCTYPE
n
s
3
!!!
x
14
render_doctype
n
n
x
6
ESCAPE
n
p
103
I
0
I
ce
I
0
I
cf
I
8
I
d1
I
f
I
d2
I
23
I
d3
I
2d
I
d4
I
45
I
d5
I
4f
I
d6
I
63
I
d7
I
84
I
d8
I
8e
I
d9
I
cb
I
da
I
100
I
db
I
135
I
dc
I
169
I
dd
I
173
I
de
I
17d
I
df
I
1a3
I
e0
I
1b8
I
e1
I
1d7
I
e2
I
1e1
I
e3
I
1f7
I
e5
I
23b
I
ee
I
245
I
ef
I
259
I
f0
I
25e
I
f3
I
291
I
f5
I
2ab
I
f6
I
2b5
I
f7
I
2c8
I
fb
I
2da
I
fe
I
2ee
I
ff
I
30a
I
101
I
318
I
106
I
321
I
107
I
331
I
106
I
334
I
109
I
33e
I
10a
I
34d
I
10b
I
357
I
10c
I
366
I
10b
I
36a
I
10e
I
38b
I
10f
I
395
I
110
I
3b7
I
111
I
3f4
I
112
I
429
I
113
I
45e
I
114
I
492
I
115
I
49c
I
116
I
4bb
I
117
I
4c3
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
5
x
4
text
x
5
index
x
9
case_stmt
x
7
keyword
x
5
block
n
x
18
mid_block_keyword?
M
1
n
n
x
18
mid_block_keyword?
i
10
20
0
45
0
1
79
49
2
2
11
I
4
I
1
I
1
I
1
n
p
3
x
23
MID_BLOCK_KEYWORD_REGEX
n
x
2
[]
p
5
I
0
I
11e
I
0
I
11f
I
a
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
text
n
x
11
push_silent
M
1
n
n
x
11
push_silent
i
51
23
1
10
8
3
19
1
15
5
47
48
0
15
20
1
13
9
28
15
5
47
48
1
7
2
49
3
1
9
34
1
11
8
35
1
15
39
4
20
0
47
48
5
7
6
63
2
49
7
1
11
I
5
I
2
I
1
I
2
n
p
8
x
17
flush_merged_text
x
7
options
x
13
suppress_eval
x
2
[]
x
12
@precompiled
x
4
to_s
s
1
;
x
2
<<
p
9
I
0
I
124
I
8
I
125
I
d
I
126
I
24
I
127
I
33
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
text
x
12
can_suppress
n
x
16
push_merged_text
M
1
n
n
x
16
push_merged_text
i
86
23
1
10
8
78
19
1
15
23
2
10
16
2
19
2
15
20
2
10
23
2
8
24
3
13
10
41
15
39
0
13
10
41
15
39
1
7
2
49
3
1
9
47
20
0
8
65
7
4
64
39
5
49
6
1
47
48
7
20
0
47
48
7
63
2
19
0
15
39
8
7
9
20
0
20
1
35
3
49
10
1
15
3
38
0
11
I
7
I
3
I
1
I
3
n
p
11
x
22
@dont_indent_next_line
x
8
@options
x
4
ugly
x
2
[]
s
2
  
x
12
@output_tabs
x
1
*
x
4
to_s
x
9
@to_merge
x
4
text
x
2
<<
p
9
I
0
I
12c
I
10
I
12d
I
44
I
12e
I
52
I
12f
I
56
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
4
text
x
10
tab_change
x
6
indent
n
x
18
concat_merged_text
M
1
n
n
x
18
concat_merged_text
i
13
39
0
7
1
20
0
78
35
3
49
2
1
11
I
5
I
1
I
1
I
1
n
p
3
x
9
@to_merge
x
4
text
x
2
<<
p
5
I
0
I
133
I
0
I
134
I
d
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
text
n
x
9
push_text
M
1
n
n
x
9
push_text
i
25
23
1
10
8
78
19
1
15
5
20
0
47
48
0
7
1
63
2
20
1
47
49
2
2
11
I
5
I
2
I
1
I
2
n
p
3
x
4
to_s
s
1


x
16
push_merged_text
p
5
I
0
I
137
I
8
I
138
I
19
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
text
x
10
tab_change
n
x
17
flush_merged_text
M
1
n
n
x
17
flush_merged_text
i
112
39
0
48
1
9
10
1
11
8
11
1
15
7
2
64
19
0
15
78
19
1
15
78
19
2
15
39
0
56
3
50
4
0
15
39
5
39
6
7
7
49
8
1
9
58
7
9
20
0
47
48
10
7
11
63
3
8
85
7
12
20
0
47
48
10
7
13
20
1
47
48
10
7
14
39
15
48
16
47
48
10
7
17
63
7
49
18
1
15
39
5
7
19
64
20
2
49
20
1
49
18
1
15
35
0
38
0
15
3
38
15
11
I
b
I
3
I
0
I
0
n
p
21
x
9
@to_merge
x
6
empty?
s
0

M
1
p
2
x
9
for_block
t
n
x
17
flush_merged_text
i
224
58
36
37
19
0
15
37
19
1
15
37
19
2
15
15
20
0
13
7
0
12
49
1
1
9
62
15
21
1
0
20
1
48
2
44
43
3
79
77
2
49
4
3
49
5
1
49
6
1
15
21
1
1
20
2
81
7
22
1
1
8
223
13
7
8
12
49
1
1
9
166
15
21
1
1
78
83
9
10
83
2
8
84
3
13
9
101
15
39
10
7
11
49
5
1
10
100
2
8
101
3
9
123
7
12
21
1
1
47
48
13
7
14
63
3
20
1
81
7
19
1
8
124
1
15
21
1
0
7
15
7
16
64
21
1
2
49
17
1
47
48
13
20
1
47
48
13
7
18
63
4
49
6
1
15
78
22
1
1
15
78
22
1
2
8
223
13
7
19
12
49
1
1
9
188
15
21
1
2
20
1
81
7
22
1
2
8
223
15
5
45
20
21
13
71
4
47
9
213
47
48
22
13
7
23
64
47
49
24
1
15
8
219
7
23
64
49
4
1
47
49
25
1
11
I
a
I
3
I
3
I
3
n
p
26
x
4
text
x
3
===
x
7
inspect
x
5
Range
x
3
new
x
2
[]
x
2
<<
x
1
+
x
6
script
x
2
==
x
8
@options
x
4
ugly
s
21
_hamlout.adjust_tabs(
x
4
to_s
s
3
); 
s
2
#{
s
1


x
1
*
s
1
}
x
8
newlines
x
11
SyntaxError
n
x
8
allocate
s
57
[HAML BUG] Undefined entry in Haml::Precompiler@to_merge.
x
10
initialize
x
5
raise
p
31
I
0
I
141
I
f
I
142
I
12
I
143
I
1b
I
144
I
32
I
145
I
3f
I
146
I
48
I
147
I
67
I
148
I
7b
I
147
I
7d
I
14a
I
9b
I
14b
I
a0
I
14c
I
a7
I
14d
I
b0
I
14e
I
bd
I
150
I
e0
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
4
type
x
3
val
x
4
tabs
x
4
each
x
12
@precompiled
x
8
@options
x
4
ugly
x
2
[]
s
20
_hamlout.buffer << "
x
4
to_s
s
2
";
s
20
_hamlout.push_text("
s
3
", 
s
2
, 
x
22
@dont_tab_up_next_text
x
7
inspect
s
2
);
x
2
<<
s
1


x
1
*
p
29
I
0
I
13b
I
0
I
13c
I
c
I
13e
I
12
I
13f
I
16
I
140
I
1a
I
141
I
22
I
154
I
24
I
155
I
2d
I
156
I
3a
I
158
I
55
I
159
I
59
I
15a
I
67
I
15b
I
6c
I
15c
I
70
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
3
str
x
5
mtabs
x
8
newlines
n
x
10
push_plain
M
1
n
n
x
10
push_plain
i
167
23
1
10
14
44
43
0
78
49
1
1
19
1
15
5
47
48
2
9
64
5
45
3
4
13
71
5
47
9
48
47
48
6
13
7
7
64
39
8
48
9
47
49
10
2
15
8
58
7
7
64
39
8
48
9
49
5
2
47
49
11
1
8
65
1
15
5
20
0
47
49
12
1
9
159
20
1
7
13
49
14
1
48
15
9
107
20
1
7
13
5
48
16
7
13
49
14
1
13
18
3
49
17
2
15
8
108
1
15
5
5
20
0
44
43
0
79
49
1
1
13
7
13
20
1
7
13
49
14
1
49
17
2
15
47
49
18
2
44
43
0
79
49
1
1
13
7
13
3
49
17
2
15
47
49
19
2
8
166
5
20
0
47
49
20
1
11
I
a
I
2
I
1
I
2
n
p
21
x
4
Hash
x
16
new_from_literal
x
13
block_opened?
x
11
SyntaxError
n
x
3
new
x
8
allocate
s
54
Illegal nesting: nesting within plain text is illegal.
x
10
@next_line
x
5
index
x
10
initialize
x
5
raise
x
23
contains_interpolation?
x
11
escape_html
x
2
[]
x
4
nil?
x
7
options
x
3
[]=
x
22
unescape_interpolation
x
11
push_script
x
9
push_text
p
21
I
0
I
161
I
e
I
162
I
14
I
163
I
40
I
162
I
42
I
166
I
4b
I
167
I
6d
I
169
I
8a
I
16a
I
99
I
169
I
9f
I
16c
I
a7
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
text
x
7
options
n
x
9
push_flat
M
1
n
n
x
9
push_flat
i
59
20
0
48
0
48
1
19
1
15
20
1
45
2
3
7
4
39
5
47
48
6
63
2
78
49
7
2
7
8
64
49
9
2
9
38
1
8
43
7
8
64
19
1
15
39
10
20
1
47
48
6
7
11
63
2
49
12
1
11
I
6
I
2
I
1
I
1
n
p
13
x
4
full
x
3
dup
x
6
Regexp
n
s
1
^
x
12
@flat_spaces
x
4
to_s
x
3
new
s
0

x
5
gsub!
x
14
@filter_buffer
s
1


x
2
<<
p
9
I
0
I
171
I
0
I
172
I
9
I
173
I
2c
I
174
I
3b
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
line
x
4
text
n
x
11
push_script
M
1
n
n
x
11
push_script
i
467
23
1
10
14
44
43
0
78
49
1
1
19
1
15
20
0
48
2
9
56
5
45
3
4
13
71
5
47
9
44
47
48
6
13
7
7
64
47
49
8
1
15
8
50
7
7
64
49
5
1
47
49
9
1
8
57
1
15
5
20
0
47
49
10
1
19
0
15
5
47
48
11
7
12
49
13
1
9
83
1
11
8
84
1
15
20
1
7
14
49
13
1
48
15
9
118
20
1
7
14
5
47
48
11
7
14
49
13
1
13
18
3
49
16
2
15
8
119
1
15
7
17
64
7
18
64
7
19
64
7
20
64
7
21
64
35
5
19
2
15
20
2
56
22
50
23
0
15
20
2
5
47
48
24
10
159
2
8
160
3
49
25
1
39
26
7
27
49
13
1
49
25
1
15
39
26
7
27
49
13
1
13
9
220
15
20
1
7
28
49
13
1
13
10
214
15
20
1
7
29
49
13
1
13
10
214
15
20
1
7
14
49
13
1
10
219
2
8
220
3
19
3
15
7
30
20
0
47
48
31
7
32
63
3
19
4
15
7
33
5
7
34
20
2
36
1
47
51
35
1
47
48
31
63
2
19
5
15
20
1
7
36
49
13
1
9
270
1
8
278
5
7
37
64
47
49
38
1
15
5
47
48
24
9
288
1
8
371
39
39
7
40
20
3
9
307
20
0
47
48
31
7
41
63
2
8
323
20
5
47
48
31
7
30
20
4
47
48
31
7
42
63
4
35
2
49
25
1
15
20
1
7
36
49
13
1
13
10
347
15
20
1
7
43
49
13
1
9
352
1
8
360
5
7
41
64
47
49
44
1
15
39
45
79
82
46
38
45
15
1
11
15
5
47
48
47
15
5
7
48
20
0
47
48
31
63
2
47
49
49
1
15
5
47
48
50
15
5
7
51
7
52
20
3
9
411
7
53
64
8
420
20
5
47
48
31
7
54
63
2
47
48
31
63
2
20
1
7
36
49
13
1
13
10
454
15
20
1
7
43
49
13
1
13
10
454
15
39
26
7
27
49
13
1
10
459
2
8
460
3
35
3
47
49
55
1
11
I
c
I
6
I
1
I
2
n
p
56
x
4
Hash
x
16
new_from_literal
x
6
empty?
x
11
SyntaxError
n
x
3
new
x
8
allocate
s
39
There's no Ruby code for = to evaluate.
x
10
initialize
x
5
raise
x
21
handle_ruby_multiline
x
7
options
x
13
suppress_eval
x
2
[]
x
11
escape_html
x
4
nil?
x
3
[]=
s
15
preserve_script
s
6
in_tag
s
12
preserve_tag
s
11
escape_html
s
21
nuke_inner_whitespace
M
1
p
2
x
9
for_block
t
n
x
11
push_script
i
15
57
19
0
15
21
1
1
20
0
48
0
49
1
1
11
I
4
I
1
I
1
I
1
n
p
2
x
6
to_sym
x
2
[]
p
3
I
0
I
183
I
f
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
name
x
4
map!
x
13
block_opened?
x
2
<<
x
8
@options
x
4
ugly
x
15
preserve_script
x
12
preserve_tag
s
1
(
x
4
to_s
s
2

)
s
9
_hamlout.
x
13
format_script
x
18
static_method_name
x
6
in_tag
s
0

x
16
push_merged_text
x
9
@to_merge
x
6
script
s
1


s
2
);
x
21
nuke_inner_whitespace
x
18
concat_merged_text
x
9
@newlines
x
1
-
x
17
flush_merged_text
s
12
haml_temp = 
x
11
push_silent
x
11
newline_now
x
4
loud
s
19
_hamlout.buffer << 
s
15
haml_temp.to_s;
s
12
(haml_temp);
x
17
push_and_tabulate
p
49
I
0
I
17c
I
e
I
17d
I
3a
I
17e
I
44
I
17f
I
55
I
180
I
78
I
182
I
8c
I
183
I
94
I
184
I
ae
I
186
I
b9
I
187
I
df
I
188
I
ed
I
189
I
102
I
18c
I
117
I
18e
I
120
I
18f
I
149
I
190
I
169
I
191
I
171
I
192
I
174
I
195
I
179
I
197
I
188
I
198
I
18d
I
19a
I
18e
I
199
I
1a9
I
19a
I
1d3
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
6
x
4
text
x
4
opts
x
4
args
x
9
no_format
x
11
output_expr
x
13
static_method
n
x
16
push_flat_script
M
1
n
n
x
16
push_flat_script
i
91
23
1
10
14
44
43
0
78
49
1
1
19
1
15
5
47
48
2
15
20
0
48
3
9
61
5
45
4
5
13
71
6
47
9
49
47
48
7
13
7
8
64
47
49
9
1
15
8
55
7
8
64
49
6
1
47
49
10
1
8
62
1
15
5
20
0
20
1
44
43
0
79
49
1
1
13
7
11
2
49
12
2
15
49
13
1
47
49
14
2
11
I
9
I
2
I
1
I
2
n
p
15
x
4
Hash
x
16
new_from_literal
x
17
flush_merged_text
x
6
empty?
x
11
SyntaxError
n
x
3
new
x
8
allocate
s
39
There's no Ruby code for ~ to evaluate.
x
10
initialize
x
5
raise
x
15
preserve_script
x
3
[]=
x
5
merge
x
11
push_script
p
9
I
0
I
19f
I
e
I
1a0
I
13
I
1a2
I
3f
I
1a3
I
5b
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
text
x
7
options
n
x
18
start_haml_comment
M
1
n
n
x
18
start_haml_comment
i
26
5
47
48
0
9
9
1
8
11
1
11
15
2
38
1
15
5
7
2
35
1
47
49
3
1
11
I
2
I
0
I
0
I
0
n
p
4
x
13
block_opened?
x
13
@haml_comment
x
12
haml_comment
x
17
push_and_tabulate
p
9
I
0
I
1a6
I
0
I
1a7
I
c
I
1a9
I
10
I
1aa
I
1a
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
n
x
5
close
M
1
n
n
x
5
close
i
34
39
0
48
1
97
37
19
0
15
36
19
1
15
2
15
5
7
2
20
0
47
48
3
63
2
20
1
36
1
47
51
4
1
11
I
6
I
2
I
0
I
0
n
p
5
x
15
@to_close_stack
x
3
pop
s
6
close_
x
4
to_s
x
4
send
p
7
I
0
I
1ae
I
0
I
1af
I
f
I
1b0
I
22
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
3
tag
x
4
rest
n
x
13
close_element
M
1
n
n
x
13
close_element
i
105
20
0
97
37
19
1
15
37
19
2
15
37
19
3
15
15
2
15
20
3
9
25
1
8
32
39
0
79
82
1
38
0
15
39
2
79
82
1
38
2
15
20
3
9
51
5
47
48
3
8
52
1
15
5
7
4
20
1
47
48
5
7
6
63
3
20
2
9
74
7
7
64
8
77
7
8
64
81
9
20
3
9
86
78
8
87
77
20
3
10
94
2
8
95
3
47
49
10
3
15
20
2
38
11
11
I
8
I
4
I
1
I
1
n
p
12
x
12
@output_tabs
x
1
-
x
14
@template_tabs
x
14
rstrip_buffer!
s
2
</
x
4
to_s
s
1
>
s
0

s
1


x
1
+
x
16
push_merged_text
x
22
@dont_indent_next_line
p
19
I
0
I
1b5
I
0
I
1b6
I
12
I
1b7
I
21
I
1b8
I
29
I
1b9
I
35
I
1ba
I
4f
I
1bb
I
5f
I
1ba
I
64
I
1bc
I
69
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
4
x
5
value
x
3
tag
x
21
nuke_outer_whitespace
x
21
nuke_inner_whitespace
n
x
12
close_script
M
1
n
n
x
12
close_script
i
33
23
2
10
8
2
19
2
15
20
2
9
23
5
7
0
64
2
47
49
1
2
8
24
1
15
39
2
79
82
3
38
2
11
I
6
I
3
I
2
I
3
n
p
4
s
3
end
x
11
push_silent
x
14
@template_tabs
x
1
-
p
7
I
0
I
1c0
I
8
I
1c1
I
19
I
1c2
I
21
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
2
_1
x
2
_2
x
8
push_end
n
x
13
close_comment
M
1
n
n
x
13
close_comment
i
40
39
0
79
82
1
38
0
15
39
2
79
82
1
38
2
15
20
0
9
25
7
3
64
8
28
7
4
64
19
1
15
5
20
1
77
47
49
5
2
11
I
5
I
2
I
1
I
1
n
p
6
x
12
@output_tabs
x
1
-
x
14
@template_tabs
s
12
<![endif]-->
s
3
-->
x
9
push_text
p
11
I
0
I
1c6
I
0
I
1c7
I
8
I
1c8
I
10
I
1c9
I
1f
I
1ca
I
28
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
15
has_conditional
x
9
close_tag
n
x
10
close_loud
M
1
n
n
x
10
close_loud
i
57
23
2
10
8
2
19
2
15
20
2
9
23
5
7
0
64
2
47
49
1
2
8
24
1
15
39
2
20
0
49
3
1
15
39
4
79
82
5
38
4
15
20
1
9
55
5
7
6
64
47
49
7
1
8
56
1
11
I
6
I
3
I
2
I
3
n
p
8
s
3
end
x
11
push_silent
x
12
@precompiled
x
2
<<
x
14
@template_tabs
x
1
-
s
1


x
18
concat_merged_text
p
11
I
0
I
1ce
I
8
I
1cf
I
19
I
1d0
I
21
I
1d1
I
29
I
1d2
I
39
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
7
command
x
11
add_newline
x
8
push_end
n
x
14
close_filtered
M
1
n
n
x
14
close_filtered
i
29
20
0
5
39
0
49
1
2
15
3
38
2
15
1
38
3
15
1
38
0
15
39
4
79
82
5
38
4
11
I
4
I
1
I
1
I
1
n
p
6
x
14
@filter_buffer
x
16
internal_compile
x
5
@flat
x
12
@flat_spaces
x
14
@template_tabs
x
1
-
p
13
I
0
I
1d6
I
0
I
1d7
I
9
I
1d8
I
d
I
1d9
I
11
I
1da
I
15
I
1db
I
1d
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
6
filter
n
x
18
close_haml_comment
M
1
n
n
x
18
close_haml_comment
i
12
3
38
0
15
39
1
79
82
2
38
1
11
I
2
I
0
I
0
I
0
n
p
3
x
13
@haml_comment
x
14
@template_tabs
x
1
-
p
7
I
0
I
1de
I
0
I
1df
I
4
I
1e0
I
c
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
n
x
9
close_nil
M
1
n
n
x
9
close_nil
i
8
39
0
79
82
1
38
0
11
I
3
I
1
I
0
I
0
I
0
p
2
x
14
@template_tabs
x
1
-
p
5
I
0
I
1e3
I
0
I
1e4
I
8
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
args
n
x
18
parse_class_and_id
M
1
n
n
x
18
parse_class_and_id
i
39
44
43
0
78
49
1
1
19
1
15
20
0
7
2
13
70
9
30
15
45
3
4
7
5
78
49
6
2
6
2
56
7
50
8
1
15
20
1
11
I
6
I
2
I
1
I
1
n
p
9
x
4
Hash
x
16
new_from_literal
n
x
6
Regexp
n
s
22
([#.])([-_a-zA-Z0-9]+)
x
3
new
M
1
p
2
x
9
for_block
t
n
x
18
parse_class_and_id
i
134
58
36
37
19
0
15
37
19
1
15
15
20
0
13
7
0
64
12
49
1
1
9
103
15
21
1
1
7
2
64
49
3
1
9
61
21
1
1
7
2
64
14
2
49
3
1
7
4
64
49
5
1
13
18
3
49
6
2
15
8
77
21
1
1
7
2
64
7
7
64
13
18
3
49
6
2
15
15
21
1
1
7
2
64
14
2
49
3
1
20
1
49
5
1
13
18
3
49
6
2
15
8
133
13
7
8
64
12
49
1
1
9
131
15
21
1
1
7
9
64
20
1
13
18
3
49
6
2
15
8
133
15
1
11
I
7
I
2
I
2
I
2
n
p
10
s
1
.
x
3
===
s
5
class
x
2
[]
s
1
 
x
1
+
x
3
[]=
s
0

s
1
#
s
2
id
p
19
I
0
I
1ee
I
b
I
1ef
I
e
I
1f0
I
18
I
1f1
I
23
I
1f2
I
3d
I
1f4
I
4e
I
1f6
I
68
I
1f7
I
84
I
1ef
I
86
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
type
x
8
property
x
4
scan
p
9
I
0
I
1ec
I
0
I
1ed
I
a
I
1ee
I
24
I
1fa
I
27
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
list
x
10
attributes
n
x
17
parse_static_hash
M
1
n
n
x
17
parse_static_hash
i
218
44
43
0
78
49
1
1
19
1
15
45
2
3
13
71
4
47
9
32
47
48
5
13
20
0
47
49
6
1
15
8
37
20
0
49
4
1
19
2
15
20
2
7
7
13
70
9
60
15
45
8
9
7
10
78
49
4
2
6
7
49
11
1
15
20
2
48
12
10
199
20
2
45
13
14
49
11
1
19
3
9
85
1
8
87
1
11
15
20
2
7
15
13
70
9
108
15
45
8
16
7
17
78
49
4
2
6
15
49
11
1
9
116
1
8
118
1
11
15
20
2
45
13
18
49
11
1
19
4
9
134
1
8
136
1
11
15
20
2
7
19
13
70
9
157
15
45
8
20
7
21
78
49
4
2
6
19
49
11
1
9
165
1
8
167
1
11
15
20
1
5
20
3
47
49
22
1
48
23
5
20
4
47
49
22
1
48
23
13
18
3
49
24
2
15
15
68
8
64
1
15
20
0
7
25
64
49
26
1
56
27
50
28
0
15
20
1
11
I
9
I
5
I
1
I
1
n
p
29
x
4
Hash
x
16
new_from_literal
x
13
StringScanner
n
x
3
new
x
8
allocate
x
10
initialize
n
x
6
Regexp
n
s
3
\s+
x
4
scan
x
4
eos?
x
19
LITERAL_VALUE_REGEX
n
n
n
s
8
\s*=>\s*
n
n
n
s
13
\s*(?:,|$)\s*
x
4
eval
x
4
to_s
x
3
[]=
s
1


x
5
count
M
1
p
2
x
9
for_block
t
n
x
17
parse_static_hash
i
5
5
47
48
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
7
newline
p
3
I
0
I
208
I
5
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
x
5
times
p
25
I
0
I
1fd
I
0
I
1fe
I
a
I
1ff
I
28
I
200
I
40
I
201
I
46
I
202
I
58
I
203
I
77
I
204
I
89
I
205
I
a8
I
206
I
c9
I
208
I
d7
I
209
I
da
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
5
x
4
text
x
10
attributes
x
7
scanner
x
3
key
x
5
value
n
x
16
build_attributes
M
1
n
n
x
16
build_attributes
i
125
23
2
10
14
44
43
0
78
49
1
1
19
2
15
20
1
7
2
64
83
3
9
28
7
4
64
8
31
7
5
64
19
3
15
20
1
7
2
64
83
3
9
48
7
6
64
8
51
7
2
64
19
4
15
20
2
7
7
64
49
8
1
45
0
9
49
10
1
9
104
20
2
48
11
19
2
15
45
12
13
43
14
20
2
7
7
64
49
15
1
56
16
50
17
1
20
2
49
18
1
19
2
8
105
1
15
20
2
56
19
50
20
0
19
5
15
20
5
48
21
48
22
48
23
11
I
9
I
6
I
2
I
3
n
p
24
x
4
Hash
x
16
new_from_literal
s
1
"
x
2
==
s
6
&quot;
s
6
&apos;
s
1
'
s
4
data
x
2
[]
n
x
5
is_a?
x
3
dup
x
4
Haml
n
x
4
Util
x
6
delete
M
1
p
2
x
9
for_block
t
n
x
16
build_attributes
i
14
57
19
0
15
7
0
20
0
47
48
1
63
2
11
I
4
I
1
I
1
I
1
n
p
2
s
5
data-
x
4
to_s
p
3
I
0
I
214
I
e
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
name
x
8
map_keys
x
5
merge
M
1
p
2
x
9
for_block
t
n
x
16
build_attributes
i
253
58
36
37
19
0
15
37
19
1
15
15
20
1
48
0
9
21
1
11
8
22
1
15
20
0
7
1
83
2
9
45
5
20
1
7
3
64
47
49
4
2
19
1
8
46
1
15
20
0
7
5
83
2
9
69
5
20
1
7
6
64
47
49
4
2
19
1
8
70
1
15
20
1
2
83
2
9
128
21
1
0
9
95
7
3
20
0
47
48
7
63
2
11
8
96
1
15
7
3
20
0
47
48
7
7
8
21
1
1
47
48
7
20
0
47
48
7
21
1
1
47
48
7
63
6
11
8
140
20
1
3
83
2
9
139
1
11
8
140
1
15
45
9
10
43
11
45
9
12
43
11
20
1
48
7
49
13
1
49
14
1
19
1
15
20
1
7
15
64
7
16
64
49
17
2
15
21
1
1
19
2
15
20
1
21
1
1
49
18
1
9
224
20
1
21
1
4
49
18
1
9
217
20
1
21
1
1
21
1
3
49
19
2
19
1
8
222
21
1
4
19
2
8
225
1
15
7
3
20
0
47
48
7
7
8
20
2
47
48
7
20
1
47
48
7
20
2
47
48
7
63
6
11
I
a
I
3
I
2
I
2
n
p
20
x
4
nil?
x
5
class
x
2
==
s
1
 
x
15
filter_and_join
x
2
id
s
1
_
x
4
to_s
s
1
=
x
4
Haml
n
x
7
Helpers
n
x
11
escape_once
x
8
preserve
s
6
&quot;
s
1
"
x
5
gsub!
x
8
include?
x
4
gsub
p
39
I
0
I
217
I
b
I
218
I
17
I
21a
I
2f
I
21b
I
47
I
21d
I
4e
I
21e
I
61
I
21f
I
80
I
220
I
87
I
221
I
8b
I
220
I
8d
I
224
I
a4
I
226
I
b0
I
227
I
b6
I
228
I
c0
I
229
I
ca
I
22a
I
d9
I
22c
I
e0
I
228
I
e2
I
22f
I
fd
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
4
attr
x
5
value
x
17
this_attr_wrapper
x
7
collect
x
7
compact
x
4
sort
x
4
join
p
19
I
0
I
20d
I
e
I
20e
I
22
I
20f
I
36
I
211
I
46
I
212
I
4d
I
214
I
68
I
211
I
6a
I
217
I
74
I
231
I
7d
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
6
x
7
is_html
x
12
attr_wrapper
x
10
attributes
x
12
quote_escape
x
16
other_quote_char
x
6
result
n
x
15
filter_and_join
M
1
n
n
x
15
filter_and_join
i
38
20
0
45
0
1
49
2
1
9
13
1
8
19
20
0
35
1
19
0
15
20
0
48
3
56
4
50
5
0
48
6
20
1
49
7
1
11
11
I
4
I
2
I
2
I
2
n
p
8
x
5
Array
n
x
5
is_a?
x
7
flatten
M
1
p
2
x
9
for_block
t
n
x
15
filter_and_join
i
16
57
19
0
15
20
0
9
14
20
0
48
0
8
15
1
11
I
3
I
1
I
1
I
1
n
p
1
x
4
to_s
p
3
I
0
I
236
I
10
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
item
x
7
collect
x
7
compact
x
4
join
p
7
I
0
I
234
I
0
I
235
I
14
I
236
I
26
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
5
value
x
9
separator
n
x
13
prerender_tag
M
1
n
n
x
13
prerender_tag
i
62
45
0
1
5
47
48
2
39
3
7
4
49
5
1
20
2
49
6
3
19
3
15
7
7
20
0
47
48
8
20
3
47
48
8
20
1
13
9
44
15
5
47
48
9
9
51
7
10
64
8
54
7
11
64
47
48
8
7
12
63
5
11
I
9
I
4
I
3
I
3
n
p
13
x
11
Precompiler
n
x
5
html?
x
8
@options
x
12
attr_wrapper
x
2
[]
x
16
build_attributes
s
1
<
x
4
to_s
x
6
xhtml?
s
2
 /
s
0

s
1
>
p
7
I
0
I
239
I
0
I
23a
I
16
I
23b
I
3e
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
4
x
4
name
x
10
self_close
x
10
attributes
x
17
attributes_string
n
x
9
parse_tag
M
1
n
n
x
9
parse_tag
i
417
20
0
7
0
13
70
9
20
15
45
1
2
7
3
78
49
4
2
6
0
49
5
1
78
49
6
1
19
1
9
34
1
8
84
5
45
7
8
13
71
4
47
9
66
47
48
9
13
7
10
20
0
47
48
11
7
12
63
3
47
49
13
1
15
8
80
7
10
20
0
47
48
11
7
12
63
3
49
4
1
47
49
14
1
15
20
1
97
37
19
2
15
37
19
3
15
37
19
4
15
15
2
15
1
19
8
19
7
19
6
19
5
15
35
0
19
9
15
20
4
9
295
20
4
78
49
6
1
13
4
123
12
49
15
1
9
185
15
20
6
9
147
1
8
296
8
148
1
15
5
20
4
47
49
16
1
97
37
19
6
15
37
19
4
15
37
19
7
15
15
2
15
20
9
7
17
20
6
35
2
49
18
1
8
291
13
4
40
12
49
15
1
9
242
15
20
5
9
204
1
8
296
8
205
1
15
5
20
4
47
49
19
1
97
37
19
5
15
37
19
4
15
37
19
7
15
15
2
15
20
9
7
4
20
5
35
2
49
18
1
8
291
13
4
91
12
49
15
1
9
287
15
20
8
9
261
1
8
296
8
262
1
15
5
20
4
4
91
4
93
47
49
20
3
97
37
19
8
15
37
19
4
15
15
2
8
291
15
1
8
296
15
68
8
118
1
15
20
4
9
379
20
4
7
21
13
70
9
321
15
45
1
22
7
23
78
49
4
2
6
21
49
5
1
78
49
6
1
97
37
19
10
15
37
19
11
15
37
19
12
15
15
2
15
20
10
13
10
355
15
7
24
64
19
10
15
20
10
7
25
64
49
26
1
19
13
15
20
10
7
27
64
49
26
1
19
14
8
380
1
15
20
12
48
11
48
28
19
12
15
20
2
20
3
20
9
20
8
20
13
20
14
20
11
20
12
20
7
13
10
414
15
39
29
35
9
11
I
19
I
f
I
1
I
1
n
p
30
n
x
6
Regexp
n
s
26
%([-:\w]+)([-\w\.\#]*)(.*)
x
3
new
x
4
scan
x
2
[]
x
11
SyntaxError
n
x
8
allocate
s
14
Invalid tag: "
x
4
to_s
s
2
".
x
10
initialize
x
5
raise
x
3
===
x
20
parse_old_attributes
x
3
old
x
2
<<
x
20
parse_new_attributes
x
7
balance
n
n
s
30
(<>|><|[><])?([=\/\~&!])?(.*)?
s
0

s
1
>
x
8
include?
s
1
<
x
5
strip
x
6
@index
p
57
I
0
I
23f
I
0
I
240
I
55
I
241
I
67
I
242
I
71
I
243
I
76
I
244
I
7a
I
245
I
81
I
246
I
8a
I
247
I
95
I
248
I
ac
I
249
I
ba
I
24a
I
c3
I
24b
I
ce
I
24c
I
e5
I
24d
I
f3
I
24e
I
fc
I
24f
I
107
I
250
I
120
I
251
I
129
I
255
I
12d
I
256
I
158
I
257
I
164
I
258
I
16f
I
259
I
17b
I
255
I
17d
I
25c
I
186
I
25d
I
190
I
25e
I
1a1
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
15
x
4
line
x
5
match
x
8
tag_name
x
10
attributes
x
4
rest
x
19
new_attributes_hash
x
19
old_attributes_hash
x
9
last_line
x
10
object_ref
x
17
attributes_hashes
x
15
nuke_whitespace
x
6
action
x
5
value
x
21
nuke_outer_whitespace
x
21
nuke_inner_whitespace
n
x
20
parse_old_attributes
M
1
n
n
x
20
parse_old_attributes
i
181
20
0
48
0
19
0
15
39
1
19
1
15
26
93
0
15
29
44
0
5
20
0
4
123
4
125
47
49
2
3
97
37
19
2
15
37
19
3
15
15
2
30
8
143
26
93
1
15
24
13
45
3
4
12
49
5
1
10
61
8
138
15
24
19
4
15
20
0
48
6
77
49
7
1
4
44
83
8
13
9
91
15
20
4
48
9
7
10
64
83
8
9
126
20
0
7
11
64
49
12
1
39
13
48
14
49
12
1
15
20
1
79
81
15
19
1
15
5
47
48
16
15
8
16
8
127
1
15
5
20
4
47
49
17
1
25
8
143
15
92
1
27
34
92
0
27
15
20
2
9
169
20
2
44
43
18
79
77
2
49
19
3
49
7
1
19
2
8
170
1
15
20
2
20
3
20
1
35
3
11
11
I
c
I
5
I
1
I
1
n
p
20
x
3
dup
x
6
@index
x
7
balance
x
11
SyntaxError
n
x
3
===
x
5
strip
x
2
[]
x
2
==
x
7
message
s
20
Unbalanced brackets.
s
1


x
2
<<
x
10
@next_line
x
4
text
x
1
+
x
9
next_line
x
5
raise
x
5
Range
x
3
new
p
31
I
0
I
261
I
0
I
262
I
7
I
263
I
c
I
266
I
31
I
267
I
3e
I
270
I
42
I
268
I
5d
I
269
I
6d
I
26a
I
75
I
26b
I
7a
I
26c
I
7e
I
268
I
80
I
26f
I
93
I
272
I
ab
I
273
I
b5
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
5
x
4
line
x
9
last_line
x
15
attributes_hash
x
4
rest
x
1
e
n
x
20
parse_new_attributes
M
1
n
n
x
20
parse_new_attributes
i
149
20
0
48
0
19
0
15
45
1
2
13
71
3
47
9
29
47
48
4
13
20
0
47
49
5
1
15
8
34
20
0
49
3
1
19
1
15
39
6
19
2
15
44
43
7
78
49
8
1
19
3
15
20
1
7
9
13
70
9
72
15
45
10
11
7
12
78
49
3
2
6
9
49
13
1
15
5
56
14
47
50
15
0
15
44
43
7
78
49
8
1
19
4
15
7
16
64
19
5
15
20
3
56
17
50
18
0
15
20
5
7
19
64
49
20
1
15
20
5
7
21
64
83
22
9
131
1
19
5
8
132
1
15
20
4
20
5
35
2
20
1
48
23
20
2
35
3
11
11
I
a
I
6
I
1
I
1
n
p
24
x
3
dup
x
13
StringScanner
n
x
3
new
x
8
allocate
x
10
initialize
x
6
@index
x
4
Hash
x
16
new_from_literal
n
x
6
Regexp
n
s
5
\(\s*
x
4
scan
M
1
p
2
x
9
for_block
t
n
x
20
parse_new_attributes
i
247
5
21
1
1
47
49
0
1
97
37
19
0
15
37
19
1
15
15
2
15
20
0
48
1
9
30
1
33
8
31
1
15
20
0
3
83
2
9
138
45
3
4
43
5
21
1
0
4
40
4
41
49
6
3
13
10
63
15
21
1
0
35
1
48
7
19
2
15
5
45
3
8
43
9
13
71
10
47
9
110
47
48
11
13
7
12
20
2
48
13
47
48
14
7
15
63
3
21
1
2
79
82
16
47
49
17
2
15
8
132
7
12
20
2
48
13
47
48
14
7
15
63
3
21
1
2
79
82
16
49
10
2
47
49
18
1
8
139
1
15
21
1
3
20
0
20
1
13
18
3
49
19
2
15
15
21
1
1
7
20
13
70
9
176
15
45
21
22
7
23
78
49
10
2
6
20
49
24
1
15
21
1
1
48
25
9
245
21
1
0
7
26
64
49
27
1
39
28
48
29
49
27
1
15
21
1
2
79
81
30
22
1
2
15
5
47
48
31
15
21
1
1
7
32
13
70
9
240
15
45
21
33
7
23
78
49
10
2
6
32
49
24
1
8
246
1
11
I
a
I
3
I
0
I
0
I
-2
p
34
x
19
parse_new_attribute
x
4
nil?
x
2
==
x
4
Haml
n
x
6
Shared
x
7
balance
x
5
first
n
x
11
SyntaxError
x
3
new
x
8
allocate
s
24
Invalid attribute list: 
x
7
inspect
x
4
to_s
s
1
.
x
1
-
x
10
initialize
x
5
raise
x
3
[]=
n
x
6
Regexp
n
s
3
\s*
x
4
scan
x
4
eos?
s
1
 
x
2
<<
x
10
@next_line
x
4
text
x
1
+
x
9
next_line
n
n
p
31
I
0
I
27d
I
0
I
27e
I
14
I
27f
I
20
I
281
I
27
I
282
I
44
I
283
I
8a
I
281
I
8c
I
285
I
9b
I
286
I
b4
I
288
I
bb
I
289
I
cc
I
28a
I
d6
I
28b
I
db
I
28c
I
f5
I
288
I
f7
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
4
name
x
5
value
x
4
text
x
4
loop
s
1
{
M
1
p
2
x
9
for_block
t
n
x
20
parse_new_attributes
i
70
58
36
37
19
0
15
37
36
37
19
1
15
37
19
2
15
15
15
20
1
7
0
83
1
9
42
21
1
4
20
0
20
2
13
18
3
49
2
2
15
8
69
21
1
5
20
0
48
3
49
4
1
7
5
64
49
4
1
20
2
49
4
1
7
6
64
49
4
1
11
I
8
I
3
I
2
I
2
n
p
7
x
6
static
x
2
==
x
3
[]=
x
7
inspect
x
2
<<
s
4
 => 
s
1
,
p
9
I
0
I
292
I
12
I
293
I
1a
I
294
I
2a
I
296
I
46
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
4
name
x
4
type
x
3
val
x
4
each
s
1
}
x
2
<<
s
2
{}
x
2
==
x
4
rest
p
27
I
0
I
276
I
0
I
277
I
7
I
278
I
25
I
279
I
2a
I
27a
I
34
I
27c
I
4c
I
27d
I
54
I
290
I
5e
I
291
I
64
I
292
I
6c
I
299
I
75
I
29a
I
85
I
29c
I
95
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
6
x
4
line
x
7
scanner
x
9
last_line
x
10
attributes
x
17
static_attributes
x
18
dynamic_attributes
n
x
19
parse_new_attribute
M
1
n
n
x
19
parse_new_attribute
i
326
20
0
7
0
13
70
9
20
15
45
1
2
7
3
78
49
4
2
6
0
49
5
1
19
1
9
30
1
8
63
20
0
7
6
13
70
9
50
15
45
1
7
7
8
78
49
4
2
6
6
49
5
1
9
59
1
11
8
60
1
15
3
11
15
20
0
7
9
13
70
9
84
15
45
1
10
7
11
78
49
4
2
6
9
49
5
1
15
20
0
7
12
13
70
9
108
15
45
1
13
7
14
78
49
4
2
6
12
49
5
1
9
116
1
8
126
20
1
7
15
2
35
2
35
2
11
15
20
0
7
16
13
70
9
147
15
45
1
17
7
11
78
49
4
2
6
16
49
5
1
15
20
0
7
18
13
70
9
171
15
45
1
19
7
20
78
49
4
2
6
18
49
5
1
19
2
9
181
1
8
225
20
0
7
21
13
70
9
201
15
45
1
22
7
23
78
49
4
2
6
21
49
5
1
19
3
9
211
1
8
213
3
11
15
20
1
7
24
20
3
35
2
35
2
11
15
45
1
25
7
26
20
2
47
48
27
7
28
20
2
47
48
27
7
29
63
5
78
49
4
2
19
4
15
35
0
19
5
15
5
56
30
47
50
31
0
15
20
5
48
32
79
83
33
9
295
20
1
7
15
20
5
48
34
79
49
35
1
35
2
35
2
11
8
296
1
15
20
1
7
24
7
36
64
20
5
56
37
50
38
0
48
39
81
40
7
36
64
81
40
35
2
35
2
11
11
I
c
I
6
I
1
I
1
n
p
41
n
x
6
Regexp
n
s
7
[-:\w]+
x
3
new
x
4
scan
n
n
s
2
\)
n
n
s
3
\s*
n
n
s
1
=
x
6
static
n
n
n
n
s
4
["']
n
n
s
12
(@@?|\$)?\w+
x
7
dynamic
n
s
19
((?:\\.|\#(?!\{)|[^
x
4
to_s
s
8
\\#])*)(
s
5
|#\{)
M
1
p
2
x
9
for_block
t
n
x
19
parse_new_attribute
i
117
21
1
0
21
1
4
49
0
1
9
14
1
8
16
3
31
15
21
1
5
7
1
21
1
0
79
49
2
1
7
3
13
70
9
47
15
45
4
5
7
6
78
49
7
2
6
3
7
8
64
49
9
2
35
2
49
10
1
15
21
1
0
80
49
2
1
21
1
2
83
11
9
77
1
33
8
78
1
15
21
1
5
7
12
5
21
1
0
4
123
4
125
79
47
49
13
4
48
14
44
43
15
78
77
2
49
7
3
49
2
1
35
2
49
10
1
11
I
8
I
0
I
0
I
0
I
-2
p
16
x
4
scan
x
3
str
x
2
[]
n
x
6
Regexp
n
s
5
\\(.)
x
3
new
s
2
\1
x
4
gsub
x
2
<<
x
2
==
x
4
ruby
x
7
balance
x
5
first
x
5
Range
p
11
I
0
I
2b0
I
0
I
2b1
I
11
I
2b2
I
3b
I
2b3
I
4f
I
2b4
I
75
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
x
4
loop
x
4
size
x
2
==
x
5
first
x
2
[]
s
1
"
M
1
p
2
x
9
for_block
t
n
x
19
parse_new_attribute
i
49
58
36
37
19
0
15
37
19
1
15
15
20
0
7
0
83
1
9
37
20
1
48
2
44
43
3
79
77
2
49
4
3
49
5
1
8
48
7
6
20
1
47
48
7
7
8
63
3
11
I
8
I
2
I
2
I
2
n
p
9
x
3
str
x
2
==
x
7
inspect
x
5
Range
x
3
new
x
2
[]
s
2
#{
x
4
to_s
s
1
}
p
3
I
0
I
2b9
I
31
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
1
t
x
1
v
x
3
map
x
4
join
x
1
+
p
33
I
0
I
29f
I
0
I
2a0
I
1e
I
2a1
I
3d
I
2a2
I
40
I
2a5
I
58
I
2a6
I
7f
I
2a8
I
97
I
2a9
I
b5
I
2aa
I
d6
I
2ab
I
e2
I
2ae
I
fe
I
2af
I
103
I
2b0
I
10b
I
2b7
I
129
I
2b8
I
12d
I
2b9
I
146
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
6
x
7
scanner
x
4
name
x
5
quote
x
3
var
x
2
re
x
7
content
n
x
10
render_tag
M
1
n
n
x
10
render_tag
i
1569
5
20
0
47
49
0
1
97
37
19
1
15
37
19
2
15
37
19
3
15
37
19
4
15
37
19
5
15
37
19
6
15
37
19
7
15
37
19
8
15
37
19
9
15
15
2
15
20
2
7
1
13
70
9
67
15
45
2
3
7
4
78
49
5
2
6
1
49
6
1
9
108
5
45
7
8
13
71
5
47
9
96
47
48
9
13
7
10
64
47
49
11
1
15
8
102
7
10
64
49
5
1
47
49
12
1
8
109
1
15
20
5
9
120
5
47
48
13
8
121
1
15
5
47
48
14
7
15
49
16
1
20
1
49
17
1
19
10
15
20
6
13
10
149
15
20
10
19
6
15
20
10
13
9
173
15
5
47
48
14
7
18
49
16
1
10
170
2
8
171
3
19
10
15
20
7
7
19
64
83
20
13
10
209
15
20
7
7
21
64
83
20
10
197
2
8
198
3
13
9
209
15
39
22
7
23
49
16
1
19
11
15
20
7
13
7
24
64
12
49
25
1
9
230
15
2
19
12
8
556
13
7
26
64
12
49
25
1
9
248
15
2
19
14
19
13
8
556
13
7
27
64
12
49
25
1
9
322
15
2
19
13
15
20
8
78
49
16
1
4
61
83
20
9
319
5
20
8
44
43
28
79
77
49
5
2
49
16
1
48
29
44
43
30
79
49
31
1
13
7
23
20
11
49
32
2
15
47
49
33
2
19
8
15
3
19
11
8
320
1
8
556
13
7
19
64
12
49
25
1
10
344
13
7
21
64
12
49
25
1
10
344
8
510
15
20
8
78
49
16
1
4
61
83
20
13
10
369
15
20
8
78
49
16
1
4
126
83
20
9
463
2
19
13
15
20
8
78
49
16
1
4
126
83
20
19
14
15
20
8
79
49
16
1
4
61
83
20
9
444
5
20
8
44
43
28
80
77
49
5
2
49
16
1
48
29
44
43
30
79
49
31
1
13
7
23
20
11
49
32
2
15
47
49
33
2
19
8
15
3
19
11
8
461
20
8
44
43
28
79
77
49
5
2
49
16
1
48
29
19
8
8
508
5
20
8
47
49
34
1
9
507
5
20
8
44
43
30
79
49
31
1
13
7
23
20
11
49
32
2
15
47
49
33
2
19
8
15
2
19
13
15
3
19
11
8
508
1
8
556
15
5
20
8
47
49
34
1
9
555
5
20
8
44
43
30
79
49
31
1
13
7
23
20
11
49
32
2
15
47
49
33
2
19
8
15
2
19
13
15
3
19
11
8
556
1
15
20
13
13
9
570
15
39
22
7
35
49
16
1
9
583
3
19
13
15
7
36
64
19
8
8
584
1
15
20
4
48
37
13
10
600
15
39
22
7
35
49
16
1
9
609
7
38
64
19
4
8
610
1
15
45
39
40
20
2
49
41
1
19
2
15
20
3
56
42
50
43
0
48
44
15
5
47
48
45
13
9
642
15
20
12
9
688
5
45
7
46
13
71
5
47
9
672
47
48
9
13
7
47
64
39
48
48
49
47
49
11
2
15
8
682
7
47
64
39
48
48
49
49
5
2
47
49
12
1
8
689
1
15
20
13
13
9
700
15
20
8
48
50
9
764
5
45
7
51
13
71
5
47
9
739
47
48
9
13
7
52
20
7
47
48
53
7
54
63
3
20
9
79
82
55
47
49
11
2
15
8
758
7
52
20
7
47
48
53
7
54
63
3
20
9
79
82
55
49
5
2
47
49
12
1
8
765
1
15
20
12
13
9
782
15
20
8
48
50
10
781
2
8
782
3
9
830
5
45
7
56
13
71
5
47
9
813
47
48
9
13
7
57
64
20
9
79
82
55
47
49
11
2
15
8
824
7
57
64
20
9
79
82
55
49
5
2
47
49
12
1
8
831
1
15
5
47
48
45
13
9
867
15
20
8
48
50
10
849
2
8
850
3
13
9
867
15
5
20
8
47
49
58
1
10
866
2
8
867
3
9
929
5
45
7
59
13
71
5
47
9
905
47
48
9
13
7
60
20
1
47
48
53
7
61
63
3
39
48
48
49
47
49
11
2
15
8
923
7
60
20
1
47
48
53
7
61
63
3
39
48
48
49
49
5
2
47
49
12
1
8
930
1
15
20
12
13
10
985
15
5
47
48
45
10
946
2
8
947
3
13
9
971
15
20
8
48
50
13
9
971
15
39
22
7
62
49
16
1
56
63
50
64
0
10
976
2
8
977
3
10
982
2
8
983
3
19
12
15
20
8
48
50
13
9
1004
15
5
47
48
45
13
10
1004
15
20
12
9
1011
1
19
8
8
1012
1
15
20
5
13
9
1029
15
5
47
48
45
10
1028
2
8
1029
3
13
10
1043
15
20
6
13
9
1043
15
5
47
48
45
19
15
15
20
4
7
38
64
83
20
13
9
1073
15
20
3
48
50
13
9
1073
15
20
14
10
1072
2
8
1073
3
9
1255
5
47
48
45
10
1084
2
8
1085
3
13
9
1109
15
20
12
10
1096
2
8
1097
3
13
9
1109
15
20
13
10
1108
2
8
1109
3
19
16
15
5
20
1
20
12
20
2
47
49
65
3
19
17
15
20
16
9
1169
20
17
20
8
47
48
53
7
66
20
1
47
48
53
7
67
63
4
49
68
1
15
20
5
9
1159
1
8
1167
20
17
7
69
64
49
68
1
8
1202
20
13
13
10
1189
15
20
6
13
10
1189
15
20
12
13
9
1189
15
20
5
9
1194
1
8
1202
20
17
7
69
64
49
68
1
15
5
20
17
20
16
13
10
1220
15
20
12
13
10
1220
15
20
6
9
1225
78
8
1226
79
20
5
10
1233
2
8
1234
3
47
49
70
3
15
20
15
38
71
15
20
16
9
1252
1
11
8
1253
1
8
1415
5
47
48
72
15
20
13
9
1269
7
38
64
8
1273
20
8
48
73
19
18
15
20
3
48
50
9
1289
7
36
64
19
3
8
1332
20
3
48
74
79
83
20
9
1313
7
75
20
3
48
76
47
48
53
63
2
19
3
8
1332
7
77
20
3
7
78
64
49
79
1
47
48
53
7
80
63
3
19
3
15
20
1
20
12
5
47
48
45
10
1346
2
8
1347
3
20
10
20
11
20
2
20
5
20
6
35
8
56
81
50
82
0
7
75
64
49
79
1
19
19
15
5
7
83
20
19
47
48
53
7
75
20
4
47
48
53
7
75
20
18
47
48
53
20
3
47
48
53
7
80
63
8
47
49
84
1
15
20
15
38
71
38
85
15
20
12
9
1424
1
11
8
1425
1
15
20
8
48
37
9
1469
5
7
86
20
1
20
5
20
6
35
3
35
2
47
49
87
1
15
20
6
9
1457
1
8
1464
39
88
79
81
89
38
88
15
1
11
8
1470
1
15
20
13
9
1567
5
20
8
44
43
30
4
5
49
31
1
13
7
90
20
14
49
32
2
15
13
7
91
2
49
32
2
15
13
7
92
20
10
49
32
2
15
13
7
23
20
11
49
32
2
15
13
7
93
20
6
49
32
2
15
47
49
94
2
15
5
7
66
20
1
47
48
53
7
67
63
3
20
5
9
1556
7
36
64
8
1559
7
69
64
81
89
47
49
95
1
8
1568
1
11
I
1d
I
14
I
1
I
1
n
p
96
x
9
parse_tag
n
x
6
Regexp
n
s
14
[\.#](\.|#|\z)
x
3
new
x
2
=~
x
11
SyntaxError
n
x
8
allocate
s
50
Illegal element: classes and ids must have values.
x
10
initialize
x
5
raise
x
14
rstrip_buffer!
x
7
options
x
8
preserve
x
2
[]
x
8
include?
x
4
ugly
s
1
&
x
2
==
s
1
!
x
8
@options
x
11
escape_html
s
1
/
x
3
===
s
1
~
s
1
=
x
5
Range
x
5
strip
x
4
Hash
x
16
new_from_literal
x
3
[]=
x
22
unescape_interpolation
x
23
contains_interpolation?
x
13
suppress_eval
s
0

x
4
nil?
s
3
nil
x
11
Precompiler
n
x
18
parse_class_and_id
M
1
p
2
x
9
for_block
t
n
x
10
render_tag
i
88
58
36
37
19
0
15
37
19
1
15
15
20
0
7
0
83
1
9
52
5
20
1
47
49
2
1
19
2
15
20
2
13
10
42
15
39
3
7
4
49
5
1
9
49
1
19
1
8
50
1
8
65
20
1
97
37
19
2
15
37
19
1
15
15
2
15
20
2
9
83
45
6
7
21
1
2
20
2
49
8
2
8
84
1
15
20
1
11
I
7
I
3
I
2
I
2
n
p
9
x
3
old
x
2
==
x
17
parse_static_hash
x
8
@options
x
13
suppress_eval
x
2
[]
x
6
Buffer
n
x
11
merge_attrs
p
15
I
0
I
2f5
I
b
I
2f6
I
13
I
2f7
I
1d
I
2f8
I
34
I
2fa
I
42
I
2fc
I
55
I
2fd
I
58
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
6
syntax
x
15
attributes_hash
x
17
static_attributes
x
4
map!
x
8
compact!
x
13
block_opened?
n
s
62
Illegal nesting: nesting within a self-closing tag is illegal.
x
10
@next_line
x
5
index
x
6
empty?
n
s
25
There's no Ruby code for 
x
4
to_s
s
13
 to evaluate.
x
1
-
n
s
37
Self-closing tags can't have content.
x
18
is_ruby_multiline?
n
s
66
Illegal nesting: content can't be both given on the same line as %
s
22
 and nested within it.
x
9
autoclose
M
1
p
2
x
9
for_block
t
n
x
10
render_tag
i
12
57
19
0
15
20
0
21
1
1
86
0
11
I
4
I
1
I
1
I
1
n
p
1
x
3
===
p
3
I
0
I
308
I
c
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
1
t
x
4
any?
x
13
prerender_tag
s
2
</
s
1
>
x
2
<<
s
1


x
16
push_merged_text
x
22
@dont_indent_next_line
x
17
flush_merged_text
x
7
inspect
x
4
size
s
2
, 
x
5
first
s
3
, (
s
8
).merge(
x
4
join
s
1
)
M
1
p
2
x
9
for_block
t
n
x
10
render_tag
i
9
57
19
0
15
20
0
48
0
11
I
3
I
1
I
1
I
1
n
p
1
x
7
inspect
p
5
I
0
I
32b
I
1
I
32d
I
9
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
1
v
x
3
map
s
18
_hamlout.open_tag(
x
11
push_silent
x
22
@dont_tab_up_next_text
x
7
element
x
17
push_and_tabulate
x
12
@output_tabs
x
1
+
x
15
preserve_script
x
6
in_tag
x
12
preserve_tag
x
21
nuke_inner_whitespace
x
11
push_script
x
18
concat_merged_text
p
191
I
0
I
2be
I
0
I
2c0
I
9
I
2bf
I
1d
I
2c0
I
2f
I
2c2
I
6e
I
2c5
I
7a
I
2c7
I
8b
I
2c8
I
96
I
2c9
I
ae
I
2cb
I
d4
I
2cd
I
d7
I
2ce
I
e7
I
2cf
I
f9
I
2d0
I
103
I
2d1
I
107
I
2d2
I
113
I
2d3
I
13a
I
2d4
I
13f
I
2d2
I
143
I
2d6
I
159
I
2d7
I
173
I
2d8
I
177
I
2d9
I
184
I
2da
I
190
I
2db
I
1b7
I
2dc
I
1bc
I
2de
I
1cf
I
2e0
I
1d8
I
2e1
I
1f2
I
2e2
I
1f6
I
2e3
I
1fb
I
2e0
I
1ff
I
2e6
I
208
I
2e7
I
222
I
2e8
I
226
I
2e9
I
22b
I
2e6
I
22d
I
2ed
I
23c
I
2ee
I
240
I
2ef
I
247
I
2ed
I
249
I
2f2
I
263
I
2f4
I
26e
I
2f5
I
278
I
300
I
2b2
I
301
I
2fe
I
302
I
340
I
304
I
365
I
305
I
3a1
I
304
I
3a3
I
308
I
3da
I
309
I
3f5
I
30c
I
409
I
30d
I
416
I
310
I
433
I
311
I
458
I
313
I
466
I
314
I
46a
I
315
I
480
I
316
I
491
I
318
I
4b3
I
31b
I
4ca
I
31c
I
4d2
I
31b
I
4d7
I
31e
I
4dc
I
31f
I
4e7
I
321
I
4ec
I
322
I
4fc
I
323
I
502
I
324
I
509
I
325
I
512
I
326
I
521
I
328
I
535
I
32b
I
547
I
32c
I
54f
I
32b
I
554
I
32d
I
557
I
32b
I
55d
I
32e
I
581
I
32f
I
588
I
332
I
592
I
334
I
598
I
335
I
5aa
I
336
I
5b9
I
337
I
5bd
I
334
I
5bf
I
33a
I
5c3
I
33b
I
5c6
I
33d
I
5cf
I
33b
I
5e0
I
33c
I
5f2
I
33d
I
5fa
I
33b
I
5ff
I
33e
I
61f
I
33a
I
621
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
20
x
4
line
x
8
tag_name
x
10
attributes
x
17
attributes_hashes
x
10
object_ref
x
21
nuke_outer_whitespace
x
21
nuke_inner_whitespace
x
6
action
x
5
value
x
9
last_line
x
12
preserve_tag
x
11
escape_html
x
12
self_closing
x
5
parse
x
15
preserve_script
x
21
dont_indent_next_line
x
10
tag_closed
x
8
open_tag
x
7
content
x
4
args
n
x
10
render_div
M
1
n
n
x
10
render_div
i
13
5
7
0
64
20
0
81
1
47
49
2
1
11
I
4
I
1
I
1
I
1
n
p
3
s
4
%div
x
1
+
x
10
render_tag
p
5
I
0
I
344
I
0
I
345
I
d
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
line
n
x
14
render_comment
M
1
n
n
x
14
render_comment
i
243
20
0
78
49
0
1
4
91
83
1
9
36
5
20
0
4
91
4
93
47
49
2
3
97
37
19
1
15
37
19
0
15
15
2
8
37
1
15
20
0
48
3
15
20
1
9
57
20
1
7
4
64
49
5
1
8
58
1
15
5
47
48
6
13
9
77
15
20
0
48
7
10
76
2
8
77
3
9
123
5
45
8
9
13
71
10
47
9
107
47
48
11
13
7
12
64
39
13
48
14
47
49
15
2
15
8
117
7
12
64
39
13
48
14
49
10
2
47
49
16
1
8
124
1
15
7
17
20
1
47
48
18
63
2
19
2
15
20
0
48
7
9
146
1
8
183
5
20
2
47
48
18
7
19
20
0
47
48
18
7
19
20
1
9
170
7
20
64
8
173
7
21
64
47
48
18
63
5
47
49
22
1
11
15
5
20
2
79
47
49
22
2
15
39
23
79
81
24
38
23
15
5
7
25
20
1
48
26
10
213
2
8
214
3
35
2
47
49
27
1
15
20
0
48
7
9
230
1
8
242
5
20
0
47
49
22
1
15
5
47
48
28
11
I
9
I
3
I
1
I
1
n
p
29
x
2
[]
x
2
==
x
7
balance
x
6
strip!
s
1
>
x
2
<<
x
13
block_opened?
x
6
empty?
x
11
SyntaxError
n
x
3
new
x
8
allocate
s
74
Illegal nesting: nesting within a tag that already has content is illegal.
x
10
@next_line
x
5
index
x
10
initialize
x
5
raise
s
4
<!--
x
4
to_s
s
1
 
s
12
<![endif]-->
s
3
-->
x
9
push_text
x
12
@output_tabs
x
1
+
x
7
comment
x
4
nil?
x
17
push_and_tabulate
x
5
close
p
33
I
0
I
349
I
0
I
34a
I
26
I
34b
I
2b
I
34c
I
3b
I
34e
I
4f
I
34f
I
7b
I
34e
I
7d
I
352
I
89
I
355
I
92
I
356
I
b8
I
359
I
c1
I
35a
I
c9
I
35b
I
dd
I
35c
I
e6
I
35d
I
ee
I
35e
I
f3
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
4
line
x
11
conditional
x
4
open
n
x
14
render_doctype
M
1
n
n
x
14
render_doctype
i
77
5
47
48
0
9
50
5
45
1
2
13
71
3
47
9
34
47
48
4
13
7
5
64
39
6
48
7
47
49
8
2
15
8
44
7
5
64
39
6
48
7
49
3
2
47
49
9
1
8
51
1
15
5
20
0
47
49
10
1
19
1
15
20
1
9
75
5
20
1
47
49
11
1
8
76
1
11
I
7
I
2
I
1
I
1
n
p
12
x
13
block_opened?
x
11
SyntaxError
n
x
3
new
x
8
allocate
s
60
Illegal nesting: nesting within a header command is illegal.
x
10
@next_line
x
5
index
x
10
initialize
x
5
raise
x
16
text_for_doctype
x
9
push_text
p
9
I
0
I
363
I
0
I
364
I
34
I
365
I
3e
I
366
I
4d
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
line
x
7
doctype
n
x
16
text_for_doctype
M
1
n
n
x
16
text_for_doctype
i
318
20
0
44
43
0
4
3
77
49
1
2
49
2
1
48
3
48
4
19
0
15
20
0
7
5
64
49
6
1
78
83
7
9
111
5
47
48
8
9
44
1
11
8
45
1
15
39
9
7
10
49
2
1
19
1
15
7
11
20
1
47
48
12
7
13
20
1
47
48
12
7
14
20
1
47
48
12
20
0
7
15
64
49
16
1
79
49
2
1
13
10
96
15
7
17
64
47
48
12
20
1
47
48
12
7
18
63
9
11
8
112
1
15
5
47
48
19
9
124
7
20
64
8
317
20
0
45
21
22
49
23
1
78
49
2
1
97
37
19
2
15
37
19
3
15
15
2
15
5
47
48
24
9
270
20
2
7
25
64
83
7
9
168
7
26
64
8
268
20
2
7
27
64
83
7
9
182
7
20
64
8
268
20
3
13
7
28
64
12
49
29
1
9
200
15
7
30
64
8
268
13
7
31
64
12
49
29
1
9
216
15
7
32
64
8
268
13
7
33
64
12
49
29
1
9
232
15
7
34
64
8
268
13
7
35
64
12
49
29
1
9
248
15
7
36
64
8
268
13
7
37
64
12
49
29
1
9
264
15
7
38
64
8
268
15
7
39
64
8
317
5
47
48
40
9
316
20
3
13
7
28
64
12
49
29
1
9
294
15
7
41
64
8
314
13
7
31
64
12
49
29
1
9
310
15
7
42
64
8
314
15
7
43
64
8
317
1
11
I
d
I
4
I
1
I
1
n
p
44
x
5
Range
x
3
new
x
2
[]
x
6
lstrip
x
8
downcase
s
3
xml
x
5
index
x
2
==
x
5
html?
x
8
@options
x
12
attr_wrapper
s
14
<?xml version=
x
4
to_s
s
3
1.0
s
10
 encoding=
s
1
 
x
5
split
s
5
utf-8
s
3
 ?>
x
6
html5?
s
15
<!DOCTYPE html>
x
13
DOCTYPE_REGEX
n
x
4
scan
x
6
xhtml?
s
3
1.1
s
97
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
s
1
5
s
6
strict
x
3
===
s
109
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
s
8
frameset
s
113
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
s
6
mobile
s
126
<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">
s
4
rdfa
s
103
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN" "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">
s
5
basic
s
109
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">
s
121
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
x
6
html4?
s
90
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
s
101
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">
s
102
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
p
57
I
0
I
369
I
0
I
36a
I
15
I
36b
I
22
I
36c
I
2e
I
36d
I
38
I
36e
I
6f
I
36b
I
71
I
371
I
77
I
372
I
7c
I
374
I
94
I
376
I
9a
I
377
I
a3
I
378
I
a8
I
379
I
b1
I
37a
I
b6
I
37c
I
b9
I
37d
I
c9
I
37e
I
d9
I
37f
I
e9
I
380
I
f9
I
381
I
109
I
382
I
10e
I
386
I
114
I
387
I
117
I
388
I
127
I
389
I
137
I
38a
I
13c
I
386
I
13e
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
4
x
4
text
x
7
wrapper
x
7
version
x
4
type
n
x
14
start_filtered
M
1
n
n
x
14
start_filtered
i
204
20
0
7
0
13
70
9
20
15
45
1
2
7
3
78
49
4
2
6
0
49
5
1
9
28
1
8
78
5
45
6
7
13
71
4
47
9
60
47
48
8
13
7
9
20
0
47
48
10
7
11
63
3
47
49
12
1
15
8
74
7
9
20
0
47
48
10
7
11
63
3
49
4
1
47
49
13
1
15
45
14
15
48
16
20
0
49
17
1
19
1
9
96
1
8
146
5
45
6
18
13
71
4
47
9
128
47
48
8
13
7
19
20
0
47
48
10
7
20
63
3
47
49
12
1
15
8
142
7
19
20
0
47
48
10
7
20
63
3
49
4
1
47
49
13
1
15
5
7
21
20
1
35
2
47
49
22
1
15
2
38
23
15
45
24
25
13
71
4
47
9
182
47
48
8
13
47
48
12
15
8
184
48
4
38
26
15
39
27
9
202
39
27
39
28
49
29
1
38
30
8
203
1
11
I
8
I
2
I
1
I
1
n
p
31
n
x
6
Regexp
n
s
5
^\w+$
x
3
new
x
2
=~
x
5
Error
n
x
8
allocate
s
22
Invalid filter name ":
x
4
to_s
s
2
".
x
10
initialize
x
5
raise
x
7
Filters
n
x
7
defined
x
2
[]
n
s
8
Filter "
s
17
" is not defined.
x
8
filtered
x
17
push_and_tabulate
x
5
@flat
x
6
String
n
x
14
@filter_buffer
x
12
@indentation
x
14
@template_tabs
x
1
*
x
12
@flat_spaces
p
15
I
0
I
391
I
0
I
392
I
4f
I
393
I
93
I
395
I
9f
I
396
I
a3
I
397
I
bb
I
39a
I
cc
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
name
x
6
filter
n
x
13
raw_next_line
M
1
n
n
x
13
raw_next_line
i
38
39
0
48
1
19
0
15
20
0
9
14
1
8
16
1
11
15
39
2
19
1
15
39
2
79
81
3
38
2
15
20
0
20
1
35
2
11
11
I
4
I
2
I
0
I
0
n
p
4
x
9
@template
x
5
shift
x
15
@template_index
x
1
+
p
13
I
0
I
39d
I
0
I
39e
I
7
I
39f
I
11
I
3a1
I
16
I
3a2
I
1e
I
3a4
I
26
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
text
x
5
index
n
x
9
next_line
M
1
n
n
x
9
next_line
i
307
5
47
48
0
97
37
19
0
15
37
19
1
15
15
2
15
20
0
9
23
1
8
25
1
11
15
20
0
7
1
83
2
9
85
45
3
4
13
71
5
47
9
67
47
48
6
13
7
7
64
7
7
64
7
7
64
20
1
5
2
47
49
8
6
15
8
83
7
7
64
7
7
64
7
7
64
20
1
5
2
49
5
6
8
140
45
3
9
13
71
5
47
9
121
47
48
6
13
20
0
48
10
20
0
48
11
48
12
20
0
20
1
5
3
47
49
8
6
15
8
140
20
0
48
10
20
0
48
11
48
12
20
0
20
1
5
3
49
5
6
19
2
15
39
13
9
153
39
13
48
14
8
154
1
15
5
47
48
15
13
9
193
15
5
20
2
47
49
16
1
10
175
2
8
176
3
13
9
193
15
5
39
13
47
49
16
1
10
192
2
8
193
3
13
10
267
15
39
13
13
9
267
15
39
13
48
17
78
49
18
1
4
58
83
2
13
9
267
15
20
2
48
19
45
20
21
7
22
39
13
48
19
7
23
13
70
9
250
15
45
20
24
7
25
78
49
5
2
6
23
49
18
1
47
48
26
7
27
63
3
78
49
5
2
49
28
1
9
272
1
8
301
20
2
48
17
48
29
9
292
5
47
48
30
15
5
47
48
31
11
8
293
1
15
5
20
2
47
49
32
1
15
20
2
38
33
11
I
b
I
3
I
0
I
0
n
p
34
x
13
raw_next_line
x
3
eod
x
2
==
x
4
Line
n
x
3
new
x
8
allocate
s
2
-#
x
10
initialize
n
x
5
strip
x
6
lstrip
x
5
chomp
x
5
@line
x
4
tabs
x
5
flat?
x
12
closes_flat?
x
4
text
x
2
[]
x
4
full
x
6
Regexp
n
s
1
^
n
n
s
4
^\s+
x
4
to_s
s
2
\s
x
2
=~
x
6
empty?
x
7
newline
x
9
next_line
x
16
handle_multiline
x
10
@next_line
p
31
I
0
I
3a7
I
0
I
3a8
I
10
I
3a9
I
1a
I
3ad
I
22
I
3ae
I
55
I
3b0
I
8f
I
3b7
I
9b
I
3b8
I
c5
I
3b9
I
110
I
3ba
I
118
I
3bb
I
11d
I
3bc
I
124
I
3ba
I
126
I
3bf
I
12e
I
3c2
I
133
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
4
text
x
5
index
x
4
line
n
x
12
closes_flat?
M
1
n
n
x
12
closes_flat?
i
52
20
0
13
9
51
15
20
0
48
0
48
1
10
17
2
8
18
3
13
9
51
15
20
0
48
2
45
3
4
7
5
39
6
47
48
7
63
2
78
49
8
2
49
9
1
10
50
2
8
51
3
11
I
5
I
1
I
1
I
1
n
p
10
x
4
text
x
6
empty?
x
4
full
x
6
Regexp
n
s
1
^
x
12
@flat_spaces
x
4
to_s
x
3
new
x
2
=~
p
5
I
0
I
3c5
I
0
I
3c6
I
34
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
line
n
x
12
un_next_line
M
1
n
n
x
12
un_next_line
i
16
39
0
20
0
49
1
1
15
39
2
79
82
3
38
2
11
I
3
I
1
I
1
I
1
n
p
4
x
9
@template
x
7
unshift
x
15
@template_index
x
1
-
p
7
I
0
I
3c9
I
0
I
3ca
I
8
I
3cb
I
10
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
line
n
x
16
handle_multiline
M
1
n
n
x
16
handle_multiline
i
138
5
20
0
48
0
47
49
1
1
9
14
1
8
16
1
11
15
20
0
48
0
77
49
2
1
15
5
47
48
3
48
4
19
1
9
123
20
1
7
5
83
6
9
49
1
8
124
8
50
1
15
20
1
48
7
48
8
9
71
5
47
48
9
13
9
69
15
8
26
8
72
1
15
5
20
1
48
7
47
49
1
1
9
87
1
8
90
1
8
124
15
20
0
48
0
20
1
48
7
44
43
10
78
77
2
49
11
3
49
12
1
49
13
1
15
5
47
48
9
15
68
8
26
1
15
5
20
1
47
49
14
1
15
5
47
48
15
11
I
8
I
2
I
1
I
1
n
p
16
x
4
text
x
13
is_multiline?
x
6
slice!
x
13
raw_next_line
x
5
first
x
3
eod
x
2
==
x
5
strip
x
6
empty?
x
7
newline
x
5
Range
x
3
new
x
2
[]
x
2
<<
x
12
un_next_line
x
16
resolve_newlines
p
23
I
0
I
3ce
I
0
I
3cf
I
11
I
3d0
I
1a
I
3d1
I
24
I
3d2
I
33
I
3d3
I
49
I
3d4
I
5b
I
3d5
I
73
I
3d6
I
7d
I
3d8
I
85
I
3d9
I
8a
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
line
x
8
new_line
n
x
13
is_multiline?
M
1
n
n
x
13
is_multiline?
i
44
20
0
13
9
43
15
20
0
48
0
79
85
1
13
9
43
15
20
0
77
49
2
1
45
3
4
83
5
13
9
43
15
20
0
7
6
49
2
1
4
32
83
5
11
I
3
I
1
I
1
I
1
n
p
7
x
6
length
x
1
>
x
2
[]
x
20
MULTILINE_CHAR_VALUE
n
x
2
==
I
-2
p
5
I
0
I
3dd
I
0
I
3de
I
2c
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
text
n
x
21
handle_ruby_multiline
M
1
n
n
x
21
handle_ruby_multiline
i
129
20
0
48
0
19
0
15
5
20
0
47
49
1
1
9
19
1
8
22
20
0
11
15
5
39
2
48
3
47
49
4
1
15
5
47
48
5
48
6
19
1
15
20
1
7
7
83
8
9
55
1
8
115
8
56
1
15
20
1
48
9
48
10
9
77
5
47
48
11
13
9
75
15
8
100
8
78
1
15
20
0
7
12
64
49
13
1
20
1
48
9
49
13
1
15
5
47
48
11
15
5
20
1
48
9
47
49
1
1
9
114
68
8
33
1
15
5
47
48
14
15
5
47
48
15
15
20
0
11
I
4
I
2
I
1
I
1
n
p
16
x
6
rstrip
x
18
is_ruby_multiline?
x
10
@next_line
x
4
full
x
12
un_next_line
x
13
raw_next_line
x
5
first
x
3
eod
x
2
==
x
5
strip
x
6
empty?
x
7
newline
s
1
 
x
2
<<
x
9
next_line
x
16
resolve_newlines
p
27
I
0
I
3e1
I
0
I
3e2
I
7
I
3e3
I
17
I
3e4
I
21
I
3e6
I
2a
I
3e7
I
39
I
3e8
I
4f
I
3e9
I
5f
I
3ea
I
64
I
3eb
I
74
I
3ec
I
79
I
3ed
I
7e
I
3ee
I
81
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
text
x
8
new_line
n
x
18
is_ruby_multiline?
M
1
n
n
x
18
is_ruby_multiline?
i
79
20
0
13
9
78
15
20
0
48
0
79
85
1
13
9
78
15
20
0
77
49
2
1
4
44
83
3
13
9
78
15
20
0
7
4
49
2
1
4
63
83
3
10
47
2
8
48
3
13
9
78
15
20
0
44
43
5
7
6
7
4
49
7
2
49
2
1
7
8
64
83
3
10
77
2
8
78
3
11
I
5
I
1
I
1
I
1
n
p
9
x
6
length
x
1
>
x
2
[]
x
2
==
I
-2
x
5
Range
I
-3
x
3
new
s
2
?\
p
5
I
0
I
3f1
I
0
I
3f2
I
4f
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
4
text
n
x
23
contains_interpolation?
M
1
n
n
x
23
contains_interpolation?
i
9
20
0
7
0
64
49
1
1
11
I
3
I
1
I
1
I
1
n
p
2
s
2
#{
x
8
include?
p
5
I
0
I
3f5
I
0
I
3f6
I
9
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
3
str
n
x
22
unescape_interpolation
M
1
n
n
x
22
unescape_interpolation
i
44
23
1
10
14
44
43
0
78
49
1
1
19
1
15
7
2
64
19
2
15
45
3
4
43
5
20
0
48
6
56
7
50
8
1
19
3
15
20
2
20
3
81
9
11
I
7
I
4
I
1
I
2
n
p
10
x
4
Hash
x
16
new_from_literal
s
0

x
4
Haml
n
x
6
Shared
x
4
dump
M
1
p
2
x
9
for_block
t
n
x
22
unescape_interpolation
i
164
57
19
0
15
20
0
80
49
0
1
48
1
79
82
2
80
49
3
1
19
1
15
21
1
2
20
0
48
4
44
43
5
78
7
6
20
1
82
2
2
49
7
3
49
0
1
49
8
1
15
20
1
80
49
9
1
79
83
10
9
72
21
1
2
7
11
64
49
8
1
8
163
5
7
12
64
5
20
0
4
123
4
125
79
47
49
13
4
78
49
0
1
44
43
5
78
77
2
49
7
3
49
0
1
81
14
7
12
64
81
14
47
49
15
1
19
2
15
21
1
1
7
16
49
0
1
9
143
7
17
20
2
47
48
18
7
19
63
3
19
2
8
144
1
15
21
1
2
7
11
64
20
2
81
14
7
20
64
81
14
49
8
1
11
I
b
I
3
I
1
I
1
n
p
21
x
2
[]
x
4
size
x
1
-
x
1
/
x
7
matched
x
5
Range
I
-3
x
3
new
x
2
<<
x
1
%
x
2
==
s
2
#{
s
1
"
x
7
balance
x
1
+
x
4
eval
x
11
escape_html
s
26
Haml::Helpers.html_escape(
x
4
to_s
s
1
)
s
1
}
p
17
I
0
I
3fb
I
4
I
3fc
I
16
I
3fd
I
32
I
3fe
I
3d
I
3ff
I
48
I
401
I
76
I
402
I
91
I
403
I
a4
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
3
x
4
scan
x
7
escapes
x
7
content
x
20
handle_interpolation
x
1
+
p
9
I
0
I
3f9
I
e
I
3fa
I
14
I
3fb
I
25
I
406
I
2c
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
4
x
3
str
x
4
opts
x
3
res
x
4
rest
n
x
7
balance
M
1
n
n
x
7
balance
i
61
45
0
1
43
2
20
0
36
1
51
3
0
19
1
15
20
1
9
24
20
1
11
8
25
1
15
5
45
4
5
13
71
6
47
9
50
47
48
7
13
7
8
64
47
49
9
1
15
8
56
7
8
64
49
6
1
47
49
10
1
11
I
6
I
2
I
0
I
0
I
0
p
11
x
4
Haml
n
x
6
Shared
x
7
balance
x
11
SyntaxError
n
x
3
new
x
8
allocate
s
20
Unbalanced brackets.
x
10
initialize
x
5
raise
p
9
I
0
I
409
I
0
I
40a
I
f
I
40b
I
1a
I
40c
I
3d
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
4
args
x
3
res
n
x
13
block_opened?
M
1
n
n
x
13
block_opened?
i
25
5
47
48
0
10
9
2
8
10
3
13
9
24
15
39
1
48
2
39
3
48
2
85
4
11
I
2
I
0
I
0
I
0
n
p
5
x
5
flat?
x
10
@next_line
x
4
tabs
x
5
@line
x
1
>
p
5
I
0
I
40f
I
0
I
410
I
19
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
n
x
17
push_and_tabulate
M
1
n
n
x
17
push_and_tabulate
i
16
39
0
20
0
49
1
1
15
39
2
79
81
3
38
2
11
I
3
I
1
I
1
I
1
n
p
4
x
15
@to_close_stack
x
4
push
x
14
@template_tabs
x
1
+
p
7
I
0
I
415
I
0
I
416
I
8
I
417
I
10
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
1
x
5
value
n
x
5
flat?
M
1
n
n
x
5
flat?
i
3
39
0
11
I
1
I
0
I
0
I
0
n
p
1
x
5
@flat
p
5
I
0
I
41a
I
0
I
41b
I
3
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
n
x
7
newline
M
1
n
n
x
7
newline
i
8
39
0
79
81
1
38
0
11
I
2
I
0
I
0
I
0
n
p
2
x
9
@newlines
x
1
+
p
5
I
0
I
41e
I
0
I
41f
I
8
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
n
x
11
newline_now
M
1
n
n
x
11
newline_now
i
17
39
0
7
1
64
49
2
1
15
39
3
79
82
4
38
3
11
I
2
I
0
I
0
I
0
n
p
5
x
12
@precompiled
s
1


x
2
<<
x
9
@newlines
x
1
-
p
7
I
0
I
422
I
0
I
423
I
9
I
424
I
11
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
n
x
16
resolve_newlines
M
1
n
n
x
16
resolve_newlines
i
29
39
0
78
85
1
9
10
1
8
12
1
11
15
39
2
7
3
39
0
35
2
49
4
1
15
78
38
0
11
I
3
I
0
I
0
I
0
n
p
5
x
9
@newlines
x
1
>
x
9
@to_merge
x
8
newlines
x
2
<<
p
9
I
0
I
427
I
0
I
428
I
d
I
429
I
19
I
42a
I
1d
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
n
x
14
rstrip_buffer!
M
1
n
n
x
14
rstrip_buffer!
i
208
23
0
10
8
77
19
0
15
39
0
20
0
49
1
1
19
1
15
20
1
48
2
9
42
5
7
3
64
3
47
49
4
2
15
2
38
5
15
1
11
8
43
1
15
20
1
48
6
13
7
7
12
49
8
1
9
97
15
20
1
79
49
1
1
48
9
15
20
1
79
49
1
1
48
10
9
94
39
0
20
0
49
11
1
15
5
20
0
47
49
12
1
8
95
1
8
207
13
7
13
12
49
8
1
9
150
15
20
1
79
49
1
1
7
14
13
70
9
131
15
45
15
16
7
17
78
49
18
2
6
14
7
19
64
49
20
2
15
5
20
0
79
82
21
47
49
12
1
8
207
13
7
22
12
49
8
1
9
172
15
5
20
0
79
82
21
47
49
12
1
8
207
15
5
45
23
24
13
71
18
47
9
197
47
48
25
13
7
26
64
47
49
27
1
15
8
203
7
26
64
49
18
1
47
49
28
1
11
I
6
I
2
I
0
I
1
n
p
29
x
9
@to_merge
x
2
[]
x
4
nil?
s
16
_hamlout.rstrip!
x
11
push_silent
x
22
@dont_tab_up_next_text
x
5
first
x
4
text
x
3
===
x
7
rstrip!
x
6
empty?
x
6
slice!
x
14
rstrip_buffer!
x
6
script
n
x
6
Regexp
n
s
22
\(haml_temp, (.*?)\);$
x
3
new
s
23
(haml_temp.rstrip, \1);
x
5
gsub!
x
1
-
x
8
newlines
x
11
SyntaxError
n
x
8
allocate
s
57
[HAML BUG] Undefined entry in Haml::Precompiler@to_merge.
x
10
initialize
x
5
raise
p
41
I
0
I
42f
I
8
I
430
I
12
I
431
I
18
I
432
I
22
I
433
I
26
I
434
I
2a
I
431
I
2c
I
437
I
31
I
438
I
3a
I
439
I
43
I
43a
I
4d
I
43b
I
55
I
43c
I
5e
I
43a
I
62
I
43e
I
6b
I
43f
I
8a
I
440
I
97
I
441
I
a0
I
442
I
ad
I
444
I
d0
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
2
x
5
index
x
4
last
p
181
I
2
I
8
I
d
I
b
I
16
I
e
I
1f
I
11
I
28
I
14
I
31
I
17
I
3a
I
1a
I
43
I
1d
I
4c
I
20
I
55
I
23
I
5e
I
26
I
67
I
29
I
70
I
2c
I
79
I
2f
I
81
I
33
I
84
I
34
I
87
I
35
I
8a
I
36
I
8d
I
37
I
90
I
38
I
93
I
39
I
96
I
3a
I
99
I
3b
I
9c
I
3c
I
9f
I
3d
I
a2
I
3e
I
ab
I
43
I
b4
I
52
I
e5
I
55
I
fe
I
58
I
117
I
5a
I
11c
I
5d
I
12b
I
70
I
13a
I
74
I
149
I
80
I
195
I
a0
I
1a4
I
c3
I
1b3
I
ce
I
1c2
I
11e
I
1d1
I
124
I
1e0
I
12c
I
1ef
I
133
I
1fe
I
137
I
20d
I
13b
I
21c
I
161
I
22b
I
171
I
23a
I
17c
I
249
I
19f
I
258
I
1a6
I
267
I
1ae
I
276
I
1b5
I
285
I
1c0
I
294
I
1c6
I
2a3
I
1ce
I
2b2
I
1d6
I
2c1
I
1de
I
2d0
I
1e3
I
2df
I
1ec
I
2ec
I
1fd
I
2fb
I
20d
I
308
I
234
I
315
I
239
I
324
I
23f
I
333
I
261
I
342
I
276
I
351
I
29f
I
360
I
2be
I
36f
I
344
I
37e
I
349
I
38d
I
363
I
39c
I
369
I
3ab
I
391
I
3ba
I
39d
I
3c9
I
3a7
I
3d8
I
3c5
I
3e7
I
3c9
I
3f6
I
3ce
I
405
I
3dd
I
414
I
3e1
I
423
I
3f1
I
432
I
3f5
I
441
I
3f9
I
450
I
409
I
45f
I
40f
I
46e
I
415
I
47d
I
41a
I
48c
I
41e
I
49b
I
422
I
4aa
I
427
I
4b9
I
42f
I
4c8
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
x
13
attach_method
p
3
I
2
I
7
I
1f
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
x
13
attach_method
p
7
I
0
I
1
I
9
I
2
I
12
I
4
I
31
x
44
/home/nex3/code/haml/lib/haml/precompiler.rb
p
0
